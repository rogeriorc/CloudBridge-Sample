"use strict";var app=angular.module("cloudBridgeApp",["kendo.directives","totvsTecMobile","totvsButton"]);app.controller("appController",["$scope","totvsTecMobile",function(a,b){a.initialView="views/home.html",a.appOptions={skin:"office365"},a.runAdvplSuccess=function(a){alert(a)},b.connectWS(function(){dialog.advplToJs.connect(function(a,b,c){}),dialog.jsToAdvpl("page_started","Pagina inicializada")})}]),app.controller("homeController",["$scope","$timeout","totvsTecMobile",function(a,b,c){a.valor=0,a.pullparam=function(b){a.$apply(function(){a.valor++})},a.showLoading=function(){console.log("showLoading");var a=new Date,b=a.getDate(),d=a.getMonth()+1,e=a.getFullYear(),f=d+"/"+b+"/"+e;c.runAdvpl('DtoS(CtoD("'+f+'"))',superHandler)},a.superHandlerSc=function(a){alert(a)}}]),app.controller("historyController",["$scope","totvsTecMobile",function(a,b){a.imgPath="",a.tirarFoto=function(){console.log("tirar foto")},a.barcode="MYBARCODE",a.takePicture=function(){b.getPicture(takePictureHandler)},a.takePictureSuccess=function(b){b=b.replace("/sdcard/totvs",""),a.$apply(function(){a.imgPath=b})}}]),app.factory("templates",function(){return{mobileTemplate:$("#mobileTemplate").html()}}),app.controller("settingsController",["$scope","templates","totvsTecMobile",function(a,b,c){a.templates=b,void 0==a.selectedView?a.selectedView=0:a.selectedView=a.escolha.selectedIndex,a.btselect=function(b){a.$apply(function(){a.selectedView=b.index})},a.list=[{month:"January",arrow:"sales-up",value:"$ 35,000"},{month:"February",arrow:"sales-down",value:"$ 25,000"},{month:"March",arrow:"sales-down",value:"$ 23,000"},{month:"April",arrow:"sales-up",value:"$ 30,000"},{month:"May",arrow:"sales-up",value:"$ 31,000"},{month:"June",arrow:"sales-down",value:"$ 29,000"},{month:"July",arrow:"sales-up",value:"$ 35,000"},{month:"August",arrow:"sales-up",value:"$ 37,000"},{month:"September",arrow:"sales-hold",value:"$ 37,000"},{month:"October",arrow:"sales-hold",value:"$ 37,000"},{month:"November",arrow:"sales-up",value:"$ 38,000"},{month:"December",arrow:"sales-up",value:"$ 40,000"}],a.myDataSource=new kendo.data.DataSource({data:a.list,schema:{model:{fields:{month:{type:"string"},arrow:{type:"string"},value:{type:"string"}}}}})}]),app.controller("settingsDetailController",["$scope",function(a){a.currentItem="",a.setCurrentItem=function(b){var c=b.view.params.id;a.currentItem=c},a.myTouch={swipe:function(b){a.print("swipe "+b.direction,"black")},tap:function(b){a.print("tap","lightgray")},doubletap:function(b){a.print("double tap","brown")},hold:function(b){a.print("hold","red")}},a.consolelog=[],a.print=function(b,c){var d={mensagem:b,cor:c};console.log(a.consolelog),a.consolelog.unshift(d),a.consolelog.length>10&&a.consolelog.pop()}}]),function(){function a(b,d,e){function f(a,b){var d=a[0],f=a[1];j[d]={connect:function(a){return"function"!=typeof a?void console.error("Bad callback given to connect to signal "+d):(j.__objectSignals__[f]=j.__objectSignals__[f]||[],j.__objectSignals__[f].push(a),void(b||"destroyed"===d||e.exec({type:c.connectToSignal,object:j.__id__,signal:f})))},disconnect:function(a){if("function"!=typeof a)return void console.error("Bad callback given to disconnect from signal "+d);j.__objectSignals__[f]=j.__objectSignals__[f]||[];var g=j.__objectSignals__[f].indexOf(a);return-1===g?void console.error("Cannot find connection of signal "+d+" to "+a.name):(j.__objectSignals__[f].splice(g,1),void(b||0!==j.__objectSignals__[f].length||e.exec({type:c.disconnectFromSignal,object:j.__id__,signal:f})))}}}function g(a,b){var c=j.__objectSignals__[a];c&&c.forEach(function(a){a.apply(a,b)})}function h(a){var b=a[0],d=a[1];j[b]=function(){for(var a,b=[],f=0;f<arguments.length;++f)"function"==typeof arguments[f]?a=arguments[f]:b.push(arguments[f]);e.exec({type:c.invokeMethod,object:j.__id__,method:d,args:b},function(b){if(void 0!==b){var c=j.unwrapQObject(b);a&&a(c)}})}}function i(a){var b=a[0],d=a[1],g=a[2];j.__propertyCache__[b]=a[3],g&&(1===g[0]&&(g[0]=d+"Changed"),f(g,!0)),Object.defineProperty(j,d,{get:function(){var a=j.__propertyCache__[b];return void 0===a&&console.warn('Undefined value in property cache for property "'+d+'" in object '+j.__id__),a},set:function(a){return void 0===a?void console.warn("Property setter for "+d+" called with undefined value!"):(j.__propertyCache__[b]=a,void e.exec({type:c.setProperty,object:j.__id__,property:b,value:a}))}})}this.__id__=b,e.objects[b]=this,this.__objectSignals__={},this.__propertyCache__={};var j=this;this.unwrapQObject=function(b){if(b instanceof Array){for(var c=new Array(b.length),d=0;d<b.length;++d)c[d]=j.unwrapQObject(b[d]);return c}if(!b||!b["__QObject*__"]||void 0===b.id)return b;var f=b.id;if(e.objects[f])return e.objects[f];if(!b.data)return void console.error("Cannot unwrap unknown QObject "+f+" without data.");var g=new a(f,b.data,e);return g.destroyed.connect(function(){if(e.objects[f]===g){delete e.objects[f];var a=[];for(var b in g)a.push(b);for(var c in a)delete g[a[c]]}}),g.unwrapProperties(),g},this.unwrapProperties=function(){for(var a in j.__propertyCache__)j.__propertyCache__[a]=j.unwrapQObject(j.__propertyCache__[a])},this.propertyUpdate=function(a,b){for(var c in b){var d=b[c];j.__propertyCache__[c]=d}for(var e in a)g(e,a[e])},this.signalEmitted=function(a,b){g(a,b)},d.methods.forEach(h),d.properties.forEach(i),d.signals.forEach(function(a){f(a,!1)});for(var b in d.enums)j[b]=d.enums[b]}function b(){const a="1.0.0",b={BLUETOOTH_FEATURE:1,NFC_FEATURE:2,WIFI_FEATURE:3,LOCATION_FEATURE:4};var c=0,e=function(a){var b=window.location.href;a=a.replace(/[\[\]]/g,"\\$&");var c=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)","i"),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g," ")):"":null},f=function(a){if(this.internalWSPort=e("totvstec_websocket_port"),this.internalWSPort){var b="ws://127.0.0.1:"+this.internalWSPort,c=new WebSocket(b);c.onclose=function(){console.error("WebChannel closed")},c.onerror=function(a){console.error("WebChannel error: "+a)},c.onopen=function(){new d(c,function(b){window.dialog=b.objects.mainDialog,dialog.advplToJs.connect(function(a,b,c){if("js"==a){var d=document.createElement("script");d.setAttribute("type","text/javascript"),d.innerText=b,document.getElementsByTagName("head")[0].appendChild(d)}else if("css"==a){var d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.innerText=b,document.getElementsByTagName("head")[0].appendChild(d)}}),a()})}}},g=function(a,b){var c={codeBlock:a,callBack:b.name};window.dialog.jsToAdvpl("runAdvpl",JSON.stringify(c))},h=function(a){window.dialog.jsToAdvpl("getPicture",a.name)},i=function(a){window.dialog.jsToAdvpl("barCodeScanner",a.name)},j=function(a){window.dialog.jsToAdvpl("pairedDevices",a.name)},k=function(){window.dialog.jsToAdvpl("unlockOrientation","")},l=function(){window.dialog.jsToAdvpl("lockOrientation","")},m=function(a){window.dialog.jsToAdvpl("getCurrentPosition",a.name)},n=function(a,b){var c={testFeature:a,callBack:b.name};window.dialog.jsToAdvpl("testDevice",JSON.stringify(c))},o=function(a,b){window.dialog.jsToAdvpl("openSettings",a)};return{version:a,internalWSPort:c,config:b,getParam:e,connectWS:f,runAdvpl:g,getPicture:h,barCodeScanner:i,pairedDevices:j,unlockOrientation:k,lockOrientation:l,getCurrentPosition:m,testDevice:n,openSettings:o}}var c={signal:1,propertyUpdate:2,init:3,idle:4,debug:5,invokeMethod:6,connectToSignal:7,disconnectFromSignal:8,setProperty:9,response:10},d=function(b,d){if("object"!=typeof b||"function"!=typeof b.send)return void console.error("The QWebChannel expects a transport object with a send function and onmessage callback property. Given is: transport: "+typeof b+", transport.send: "+typeof b.send);var e=this;this.transport=b,this.send=function(a){"string"!=typeof a&&(a=JSON.stringify(a)),e.transport.send(a)},this.transport.onmessage=function(a){var b=a.data;switch("string"==typeof b&&(b=JSON.parse(b)),b.type){case c.signal:e.handleSignal(b);break;case c.response:e.handleResponse(b);break;case c.propertyUpdate:e.handlePropertyUpdate(b);break;default:console.error("invalid message received:",a.data)}},this.execCallbacks={},this.execId=0,this.exec=function(a,b){return b?(e.execId===Number.MAX_VALUE&&(e.execId=Number.MIN_VALUE),a.hasOwnProperty("id")?void console.error("Cannot exec message with property id: "+JSON.stringify(a)):(a.id=e.execId++,e.execCallbacks[a.id]=b,void e.send(a))):void e.send(a)},this.objects={},this.handleSignal=function(a){var b=e.objects[a.object];b?b.signalEmitted(a.signal,a.args):console.warn("Unhandled signal: "+a.object+"::"+a.signal)},this.handleResponse=function(a){return a.hasOwnProperty("id")?(e.execCallbacks[a.id](a.data),void delete e.execCallbacks[a.id]):void console.error("Invalid response message received: ",JSON.stringify(a))},this.handlePropertyUpdate=function(a){for(var b in a.data){var d=a.data[b],f=e.objects[d.object];f?f.propertyUpdate(d.signals,d.properties):console.warn("Unhandled property update: "+d.object+"::"+d.signal)}e.exec({type:c.idle})},this.debug=function(a){e.send({type:c.debug,data:a})},e.exec({type:c.init},function(b){for(var f in b)var g=new a(f,b[f],e);for(var f in e.objects)e.objects[f].unwrapProperties();d&&d(e),e.exec({type:c.idle})})};"object"==typeof module&&(module.exports={QWebChannel:d}),angular.module("totvsTecMobile",[]).service("totvsTecMobile",b)}(),function(){angular.module("totvsHtmlFramework",["totvsInterceptors","totvsConfigs","totvsProviders","totvsServices","totvsFactories","totvsFilters","totvsDirectives"])}(),function(){angular.module("totvsConfigs",["totvsHttpConfig"])}(),function(){angular.module("totvsFactories",["totvsCustom"])}(),function(){angular.module("totvsDirectives",["autonumeric","bsswitch","chart","datePicker","datePickerRange","decimalRange","field","inputRange","multipleSelected","numbersOnly","onKeyEnter","selectConector","templatePopover","templatePopoverRemoveAll","timePicker","totvsButton","totvsChart","totvsDatepicker","totvsDateRange","totvsDiagram","totvsDivider","totvsEditable","totvsEditor","totvsExecution","totvsField","totvsGrid","totvsGroupContent","totvsListItem","totvsListItemAction","totvsListItemContent","totvsListItemContentDetail","totvsListItemHeader","totvsListItemInfo","totvsListItemTitle","totvsListPagination","totvsMashupCaptcha","totvsModalBody","totvsModalFooter","totvsModalHeader","totvsPage","totvsPageAlert","totvsPageBreadcrumb","totvsPageChild","totvsPageContent","totvsPageContentHeader","totvsPageDetail","totvsPageDetailInfo","totvsPageDetailInfoGroup","totvsPageDisclaimers","totvsPageForm","totvsPageHeader","totvsPageHeaderOperation","totvsPageHeaderOperationAction","totvsPageHeaderOperationFilter","totvsPageHeaderTitle","totvsPageNavbar","totvsPageQuickFilter","totvsPageQuickSelect","totvsPageTags","totvsSelect","totvsSchedule","totvsTab","totvsTabContentTransclude","totvsTabDropdown","totvsTabDropdownItem","totvsTabHeadingTransclude","totvsTable","totvsTabset","totvsUpload","totvsWidget","totvsWidgetBody","totvsWidgetFooter","totvsWidgetFooterActions","totvsWidgetFooterBody","totvsWidgetHeader","zoom"])}(),function(){angular.module("totvsFilters",["i18nFilter","maskFilter","progressDateFilter"])}(),function(){angular.module("totvsInterceptors",["totvsHttpInterceptor"])}(),function(){angular.module("totvsProviders",["TOTVSMashup","TOTVSProfile","TOTVSResource","TOTVSLocalDatabase","TOTVSLocalResource"])}(),function(){angular.module("totvsServices",["totvsUtils","totvsUtilsBrowser"])}(),function(){angular.module("TOTVSLocalDatabase",[])}(),function(){angular.module("TOTVSLocalResource",["TOTVSLocalDatabase"])}(),function(){angular.module("TOTVSProfile",[])}(),function(){angular.module("TOTVSMashup",["TOTVSResource"])}(),function(){angular.module("TOTVSResource",[])}(),function(){angular.module("totvsHttpConfig",[])}(),function(){angular.module("totvsHttpInterceptor",[])}(),function(){angular.module("totvsCustom",[])}(),function(){angular.module("totvsUtils",[])}(),function(){angular.module("totvsUtilsBrowser",[])}(),function(){angular.module("i18nFilter",["totvsUtilsBrowser"])}(),function(){angular.module("maskFilter",[])}(),function(){angular.module("progressDateFilter",[])}(),function(){angular.module("autonumeric",[])}(),function(){angular.module("bsswitch",[])}(),function(){angular.module("chart",[])}(),function(){angular.module("datePicker",[])}(),function(){angular.module("datePickerRange",[])}(),function(){angular.module("decimalRange",[])}(),function(){angular.module("field",["autonumeric","datePicker","datePickerRange","decimalRange","inputRange","numbersOnly","onKeyEnter","selectConector"])}(),function(){angular.module("inputRange",[])}(),function(){angular.module("multipleSelected",[])}(),function(){angular.module("numbersOnly",[])}(),function(){angular.module("onKeyEnter",[])}(),function(){angular.module("selectConector",[])}(),function(){angular.module("templatePopover",[])}(),function(){angular.module("templatePopoverRemoveAll",[])}(),function(){angular.module("timePicker",[])}(),function(){angular.module("totvsButton",[])}(),function(){angular.module("totvsChart",[])}(),function(){angular.module("totvsDateRange",["totvsField"])}(),function(){angular.module("totvsDatepicker",["totvsField"])}(),function(){angular.module("totvsDiagram",["kendo.directives"])}(),function(){angular.module("totvsDivider",[])}(),function(){angular.module("totvsEditable",[])}(),function(){angular.module("totvsEditor",["kendo.directives","ngSanitize"])}(),function(){angular.module("totvsExecution",[])}(),function(){angular.module("totvsField",[])}(),function(){angular.module("totvsGantt",[])}(),function(){angular.module("totvsGrid",[])}(),function(){angular.module("totvsGroupContent",[])}(),function(){angular.module("totvsListItem",[])}(),function(){angular.module("totvsListItemAction",[])}(),function(){angular.module("totvsListItemContent",[])}(),function(){angular.module("totvsListItemContentDetail",[])}(),function(){angular.module("totvsListItemHeader",[])}(),function(){angular.module("totvsListItemInfo",[])}(),function(){angular.module("totvsListItemTitle",[])}(),function(){angular.module("totvsListPagination",[])}(),function(){angular.module("totvsMashupCaptcha",["TOTVSMashup"])}(),function(){angular.module("totvsModalBody",[])}(),function(){angular.module("totvsModalFooter",[])}(),function(){angular.module("totvsModalHeader",[])}(),function(){angular.module("totvsPage",[])}(),function(){angular.module("totvsPageAlert",[])}(),function(){angular.module("totvsPageBreadcrumb",[])}(),function(){angular.module("totvsPageChild",[])}(),function(){angular.module("totvsPageContent",[])}(),function(){angular.module("totvsPageContentHeader",[])}(),function(){angular.module("totvsPageDetail",[])}(),function(){angular.module("totvsPageDetailInfo",[])}(),function(){angular.module("totvsPageDetailInfoGroup",[])}(),function(){angular.module("totvsPageDisclaimers",[])}(),function(){angular.module("totvsPageForm",[])}(),function(){angular.module("totvsPageHeader",[])}(),function(){angular.module("totvsPageHeaderOperation",[])}(),function(){angular.module("totvsPageHeaderOperationAction",[])}(),function(){angular.module("totvsPageHeaderOperationFilter",[])}(),function(){angular.module("totvsPageHeaderTitle",[])}(),function(){angular.module("totvsPageNavbar",[])}(),function(){angular.module("totvsPageQuickFilter",[])}(),function(){angular.module("totvsPageQuickSelect",[])}(),function(){angular.module("totvsPageTags",[])}(),function(){angular.module("totvsSchedule",["totvsModalBody","totvsModalHeader","totvsModalFooter"])}(),function(){angular.module("totvsSelect",["totvsField"])}(),function(){angular.module("totvsTab",[])}(),function(){angular.module("totvsTabContentTransclude",[])}(),function(){angular.module("totvsTabDropdown",[])}(),function(){angular.module("totvsTabDropdownItem",[])}(),function(){angular.module("totvsTabHeadingTransclude",["totvsTab"])}(),function(){angular.module("totvsTable",[])}(),function(){angular.module("totvsTabset",[])}(),function(){angular.module("totvsUpload",[])}(),function(){angular.module("totvsWidget",[])}(),function(){angular.module("totvsWidgetBody",[])}(),function(){angular.module("totvsWidgetFooter",[])}(),function(){angular.module("totvsWidgetFooterActions",[])}(),function(){angular.module("totvsWidgetFooterBody",[])}(),function(){angular.module("totvsWidgetHeader",[])}(),function(){angular.module("zoom",[])}(),function(){function a(){function a(){var a,b,c,d;return c={UNCHANGED:0,INSERTED:1,MODIFIED:2,DELETED:3},d={NORMAL:0,ROWSTATES:1},a={mode:d.NORMAL,tables:{},hasPendingChanges:!1,getModes:function(){return d},getTable:function(a){return this.tables[a]},getTableByURL:function(a){var b=a.indexOf(":"),c=-1===b?a:a.substring(0,b);return this.getTable(c)},setTable:function(a,c){var d=b(a,c);return this.tables[a]=d,d},removeTable:function(a){this.tables.hasOwnProperty(a)&&delete this.tables[a]},shallowCopy:function(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(null===a[b]||a[b].constructor!==Array)&&(c[b]=a[b]);return c}},b=function(b,e){return{name:b,rows:e,query:function(a,b){var c,d,e,f,g=[];for(c in this.rows)if(this.rows.hasOwnProperty(c)&&(d=this.rows[c])){if(!b&&this.isDeleted(d))continue;e=!0;for(f in a)a.hasOwnProperty(f)&&d[f]&&d[f]!==a[f]&&(e=!1);e&&g.push(d)}return g},indexOf:function(a){var b,c,d,e;for(b in this.rows)if(this.rows.hasOwnProperty(b)&&(c=this.rows[b],c&&!this.isDeleted(c))){d=!0;for(e in a)a.hasOwnProperty(e)&&c[e]&&c[e]!==a[e]&&(d=!1);if(d)return b}return-1},find:function(a){var b;return b=this.indexOf(a),b>-1?jQuery.extend(!0,{},this.rows[b]):void 0},add:function(b){var e=this.rows.length;this.rows.push(b),a.mode===d.ROWSTATES&&this.canSetAsInserted(this.rows[e])&&this.setRowState(this.rows[e],c.INSERTED)},update:function(b,e){var f=void 0===b?-1:this.indexOf(b);return f>-1?(this.rows[f]=e,a.mode===d.ROWSTATES&&this.canSetAsModified(this.rows[f])&&this.setRowState(this.rows[f],c.MODIFIED)):(f=this.rows.length,this.add(e)),f},remove:function(b){var e=this.indexOf(b);return e>-1&&(a.mode===d.ROWSTATES&&this.canSetAsDeleted(this.rows[e])?this.setRowState(this.rows[e],c.DELETED):this.rows.splice(e,1)),e},isDeleted:function(b){return a.mode===d.ROWSTATES?b.$state&&b.$state===c.DELETED:!1},setRowState:function(a,b){a.$state=b},resetRowState:function(a){a.$state=c.UNCHANGED},canSetAsInserted:function(a){var b=a.$state;return!b||b!==c.MODIFIED&&b!==c.DELETED?!0:!1},canSetAsModified:function(a){var b=a.$state;return!b||b!==c.INSERTED&&b!==c.DELETED?!0:!1},canSetAsDeleted:function(a){var b=a.$state;return b&&b===c.INSERTED?!1:!0}}},a}this.$get=a,a.$inject=[]}angular.module("TOTVSLocalDatabase").provider("$totvslocaldatabase",a),a.$inject=[]}(),function(){function a(){function a(a,b,c,d){return this.services={},this.services.DATABASE=d,this.services.DATABASEMODE=d.getModes(),this.services.loadFromJSON=function(a,b,c){var e=d.getTable(b);void 0===e&&(e=d.setTable(b,[])),a.forEach(function(a){var b=d.shallowCopy(a);e.add(b),e.resetRowState(b),c&&c.forEach(function(b){b(a)})})},this.services.saveToJSON=function(a,b,c){var e,f=[];return e=d.getTable(a),f=void 0===e?[]:jQuery.isEmptyObject(b)?e.rows:e.query(b,!0),c&&f.forEach(function(a){c.forEach(function(b){b(a)})}),f},this.services.initTable=function(a){var b=d.getTable(a);return void 0===b&&(b=d.setTable(a,[])),b},this.services.cleanTables=function(a){a&&a.constructor===Array&&a.forEach(function(a){d.removeTable(a)})},this.services.setDatabaseMode=function(a){d.mode=a},this.services.REST=function(a,b,e){var f,g;return f={url:a,options:b,actions:e},g=function(a){this.proc=a,this.init=function(){this.deferred=c.defer(),this.$promise=this.deferred.promise,setTimeout(this.proc,10)}},f.TOTVSGet=function(b,c){var e=new g(function(){var c,f;c=d.getTableByURL(a),c?(f=c.find(b),f?e.deferred.resolve(f):e.deferred.reject()):e.deferred.reject()});return e.init(),f.processPromise(e,c)},f.TOTVSQuery=function(b,c){var e=new g(function(){var c,f,g,h;if(c=d.getTableByURL(a),c&&c.rows){f=c.query(b),g=f.length,f=f.slice(b.start,b.start+b.limit);for(h in f)f.hasOwnProperty(h)&&(f[h].$length=g);e.deferred.resolve(f)}else e.deferred.reject()});return e.init(),f.processPromise(e,c)},f.TOTVSPost=function(b,c,e){var h=new g(function(){var e,f;e=d.getTableByURL(a),e?(f=e.update(b,c),f>-1?h.deferred.resolve(c):h.deferred.reject()):h.deferred.reject()});return h.init(),f.processPromise(h,e)},f.TOTVSSave=function(b,c,e){var h=new g(function(){var e,f;e=d.getTableByURL(a),e?(f=e.update(b,c),f>-1?h.deferred.resolve(c):h.deferred.reject()):h.deferred.reject()});return h.init(),f.processPromise(h,e)},f.TOTVSUpdate=function(b,c,e){var h=new g(function(){var e,f;e=d.getTableByURL(a),e?(f=e.update(b,c),f>-1?h.deferred.resolve(c):h.deferred.reject()):h.deferred.reject()});return h.init(),f.processPromise(h,e)},f.TOTVSRemove=function(b,c){var e=new g(function(){var c,f;c=d.getTableByURL(a),c?(f=c.remove(b),f>-1?e.deferred.resolve(f):e.deferred.reject()):e.deferred.reject()});return e.init(),f.processPromise(e,c)},f.processPromise=function(a,b){return a.$promise.then(function(a){b(a)}),a.$promise},f},this.services}this.$get=a,a.$inject=["$resource","$http","$q","$totvslocaldatabase"]}angular.module("TOTVSLocalResource").provider("$totvslocalresource",a),a.$inject=[]}(),function(){function a(){function a(a){c=a}function b(a,b,d,e){var f,g=c+"/:method",h=d(g,{}),i=e("totvs.profile.cache");return f={remote:{get:function(b,c,d){var e,f=a.currentuser.login,g=f+":~:"+b+":~:"+c,j=i.get(g);if(j){for(e=0;e<j.length;e++)try{j[e].dataValue=angular.fromJson(j[e].dataValue)}catch(k){}return d(j)}return h.query({method:"getProfile",userCode:f,pageId:b,dataCode:c},{},function(a){if(a){var b;for(b=0;b<a.length;b++)try{a[b].dataValue=angular.fromJson(a[b].dataValue)}catch(c){}i.put(g,a)}d(a)},{})},set:function(b,c,d){var e,f,g,j=a.currentuser.login;for(c=c||[],angular.isArray(c)||(c=[c]),e=j+":~:"+b+":~:"+c[0].dataCode,f=c,f[0].pageId=b,i.put(e,f),g=0;g<c.length;g++)c[g].dataValue=angular.toJson(c[g].dataValue);return h.save({method:"setProfile",userCode:j,pageId:b},c,function(a){d&&d(a)})},remove:function(b,c,d){var e=a.currentuser.login;return h.save({method:"removeProfile",userCode:e,pageId:b,dataCode:c},{},function(a){d&&d(a)})},clearCache:function(b,c){var d=a.currentuser.login,e=d+":~:"+b+":~:"+c;i.remove(e)}},local:{get:function(a,c,d){if(b.localStorage){var e,f,g,h,i=[];if(c)i.push(b.localStorage.getItem(a+":~:"+c));else if(!c)for(f=b.localStorage.length,e=0;f>e;e++)g=b.localStorage.key(e),null!==g&&-1!==g.indexOf(a)&&(h=g.indexOf(":~:"),c=g.substring(h+3,g.length),i.push({pageId:a,dataCode:c,dataValue:angular.fromJson(b.localStorage.getItem(g))}));d&&d(i)}},set:function(a,c,d){var e,f;if(b.localStorage){for(c=c||[],angular.isArray(c)||(c=[c]),f=c.length,e=0;f>e;e++)b.localStorage.setItem(a+":~:"+c[e].dataCode,angular.toJson(c[e].dataValue));d&&d()}},remove:function(a,c,d){var e,f,g,h=[];if(b.localStorage){if(c)b.localStorage.removeItem(a+":~:"+c);else if(!c){for(f=b.localStorage.length,e=0;f>e;e++)null!==b.localStorage.key(e)&&h.push(b.localStorage.key(e));for(f=h.length,e=0;f>e;e++)-1!==h[e].indexOf(a)&&(g=h[e].indexOf(":~:"),c=h[e].substring(g+3,h[e].length),b.localStorage.removeItem(a+":~:"+c))}d&&d()}}},actions:{effective:function(a,b){var c,d,e;for(a=a||[],angular.isArray(a)||(a=[a]),d=a.length,c=0;d>c;c++)if(a[c].dataCode.totvsAction&&(e=$("field[id^='\" + resultProfile[i].dataCode.fieldId + \"']")))switch(a[c].dataCode.totvsAction){case"enableField":a[c].dataValue===!1?(e.attr("disabled",!0),e.find("button").attr("disabled",!0),e.find("input").attr("disabled",!0)):a[c].dataValue===!0&&(e.removeAttr("disabled"),e.find("button").removeAttr("disabled"),e.find("input").removeAttr("disabled"));break;case"applyMaxLength":e.find("input").attr("maxlength",a[c].dataValue)}b&&b()}}}}var c="";this.setRestProfile=a,this.$get=b,b.$inject=["$rootScope","$window","$resource","$cacheFactory"]}angular.module("TOTVSProfile").provider("$totvsprofile",a),a.$inject=[]}(),function(){function a(){function a(a){c=a}function b(a){function b(a,b){return y.TOTVSGet(a,b)}function d(a,b){return y.TOTVSQuery(a,b)}function e(a){return b({method:"getConsultaCNPJCaptcha"},a)}function f(a,b,c,e){return d({method:"getCNPJ",CNPJ:a,Codigo:b,ServiceExecutionId:c},e)}function g(a){return b({method:"getConsultaCPFCaptcha"},a)}function h(a,b,c,e,f){return d({method:"getCPF",CPF:a,DataNasc:b,Codigo:c,ServiceExecutionId:e},f)}function i(a){return d({method:"consultaMunicipiosNFSE"},a)}function j(a,b){return d({method:"correiosPesquisaCEP",CEP:a},b)}function k(a){return d({method:"getConversionCoinList"},a)}function l(a,b,c,e,f){return d({method:"conversaoMoeda",MoedaOrigem:a,MoedaDestino:b,Valor:c,Data:e},f)}function m(a,b,c){return d({method:"getCBOList",Pesquisa:a,Texto:b},c)}function n(a,b,c,e,f){return d({method:"getMotoristas",CPF:a,Prontuario:b,CNPJ:c,NomeMotorista:e},f)}function o(a){return d({method:"getIdiomas"},a)}function p(a,b,c,e){return d({method:"googleTranslate",Texto:a,Origem:b,Destino:c},e)}function q(a){return d({method:"getEstados"},a)}function r(a,c,d){return b({method:"sintegraParcial",CNPJ:a,Estado:c},d)}function s(a,c,d){return b({method:"sintegraContinuacaoCaptcha",Codigo:a,ServiceExecutionId:c},d)}function t(a,b,c){return d({method:"sintegraContinuacaoInscricao",Inscricao:a,ServiceExecutionId:b},c)}function u(a){return b({method:"suframaGetCaptcha"},a)}function v(a,c,d,e){return b({method:"suframaGetInscricoes",ServiceExecutionId:a,CNPJ:c,Codigo:d},e)}function w(a,b,c,e){return d({method:"suframaGetDados",ServiceExecutionId:a,Codigo:b,Inscricao:c},e)}var x=a.REST(c+"/:method"),y={getGeneric:b,queryGeneric:d,getConsultaCNPJCaptcha:e,queryCNPJ:f,getConsultaCPFCaptcha:g,queryCPF:h,queryMunicipiosNFSE:i,queryPesquisaCEP:j,queryConversionCoinList:k,queryConversaoMoeda:l,queryCBOList:m,queryMotoristas:n,queryIdiomas:o,queryGoogleTranslate:p,queryEstados:q,getSintegraParcial:r,getSintegraContinuacaoCaptcha:s,querySintegraContinuacaoInscricao:t,getSuframaCaptcha:u,getSuframaInscricoes:v,querySuframaDados:w};return Object.setPrototypeOf(y,x),y}var c="";this.setRestMashup=a,this.$get=b,b.$inject=["$totvsresource"]}angular.module("TOTVSMashup").provider("TotvsMashup",a),a.$inject=[]}(),function(){function a(){function a(a,b){function c(c,d,e){var f;return angular.isUndefined(e)&&(e={}),e.update={method:"PUT",isArray:!1},e.post={method:"POST",isArray:!1},e.getWithCache={method:"GET",isArray:!1,cache:!0},e.queryWithCache={method:"GET",isArray:!0,cache:!0},f=a(c,d,e),f.TOTVSGet=function(a,b,c,d){var e;return f.parseHeaders(c),e=d?this.getWithCache(a):this.get(a),f.processPromise(e,b)},f.TOTVSQuery=function(a,b,c,d){var e;return f.parseHeaders(c),e=d?this.queryWithCache(a):this.query(a),f.processPromise(e,b)},f.TOTVSPost=function(a,b,c,d){var e=this.post(a,b);return f.parseHeaders(d),f.processPromise(e,c)},f.TOTVSSave=function(a,b,c,d){var e=this.save(a,b);return f.parseHeaders(d),f.processPromise(e,c)},f.TOTVSUpdate=function(a,b,c,d){var e=this.update(a,b);return f.parseHeaders(d),f.processPromise(e,c)},f.TOTVSRemove=function(a,b,c){var d=this.remove(a);return f.parseHeaders(c),f.processPromise(d,b)},f.processPromise=function(a,b){return f.parseHeaders(),b&&a.$promise.then(function(a){b&&b(a&&a.hasOwnProperty("data")&&a.hasOwnProperty("length")&&a.hasOwnProperty("messages")?a.data:a)}),a.$promise},f.parseHeaders=function(a){a?(b.defaults.headers.common.noCount=a.noCount,b.defaults.headers.common.noCountRequest=a.noCountRequest,b.defaults.headers.common.noErrorMessage=a.noErrorMessage):(b.defaults.headers.common.noCount=void 0,b.defaults.headers.common.noCountRequest=void 0,b.defaults.headers.common.noErrorMessage=void 0)},f}var d={REST:c};return d}this.$get=a,a.$inject=["$resource","$http"]}angular.module("TOTVSResource").provider("$totvsresource",a),a.$inject=[]}(),function(){function a(a){function b(a,b){var c,d;if(null===b("content-type")||b("content-type").indexOf("application/json")<0)return a;if(c=angular.fromJson(a),d=!1,c.hasOwnProperty("messages")&&c.messages.length>0){for(var e=0;e<c.messages.length&&!d;e++)if("error"===c.messages[e].type){d=!0;break}d?$injectorInstance.invoke(function(a){a.$broadcast(TOTVSEvent.showBusinessMessage,c.messages)}):$injectorInstance.invoke(function(a){var b,d=[];for(b=0;b<c.messages.length;b++)d.push({type:c.messages[b].type,title:c.messages[b].code,detail:c.messages[b].detail});a.$broadcast(TOTVSEvent.showNotification,d)})}if(c.hasOwnProperty("data")&&c.hasOwnProperty("length")&&c.hasOwnProperty("messages")){if(c.data instanceof Array){if(c.length>0&&c.data[0])c.data[0].$length=c.length;else if(0===c.length&&0===c.data.length)return void 0;d&&c.length>0&&c.data[0]&&(c.data[0].$hasError=!0)}else d&&(c.data||null===c.data)&&(null===c.data&&(c.data={}),c.data.$hasError=!0);return c.data}return c}a.defaults.transformResponse.push(b)}angular.module("totvsHttpConfig").config(a),a.$inject=["$httpProvider"]}(),function(){function a(a,b){function c(a){var b;return a.data&&a.data.detail&&(b=a.data.data&&a.data.data.detail?a.data.data.detail:a.data.detail),b||(b=a.data),{title:void 0,text:a.statusText,help:b,callback:a.callback}}function d(d){var e=d.config.headers||{},f=d.config.params||{},g=e.noCountRequest?e.noCountRequest.toString():void 0;if(g||(g=f.noCountRequest?f.noCountRequest.toString():void 0),"true"!==g&&a.pendingRequests--,401===d.status||419===d.status)return d.callback=function(){location.reload()},d.data="Sua sessão expirou, você deverá fazer o login novamente",d.statusText=void 0,a.$broadcast(TOTVSEvent.showMessage,c(d)),b.reject(d);if(0===d.status)return a.errorConnServer||(console.error("A conexão com o sistema foi perdida. Verifique se o servidor de aplicação está em execução e operando corretamente."),a.errorConnServer=!0),b.reject(d);var h=e.noErrorMessage?e.noErrorMessage.toString():void 0;return h||(h=f.noErrorMessage?f.noErrorMessage.toString():void 0),"true"!==h&&a.$broadcast(TOTVSEvent.showMessage,c(d)),401!==d.status&&419!==d.status?b.reject(d):void 0}function e(c){var d,e,f;return c.url=c.url.replace(/%2F/gi,"/"),d=c.headers||{},e=c.params||{},a.isFluig&&(c.headers.tenantId=a.tenantId),a.hasOwnProperty("currentcontext")&&a.currentcontext.hasOwnProperty("headers")&&angular.forEach(a.currentcontext.headers,function(a,b){c.headers[b]=a}),f=d.noCountRequest?d.noCountRequest.toString():void 0,f||(f=e.noCountRequest?e.noCountRequest.toString():void 0),"true"!==f&&a.pendingRequests++,c||b.when(c)}function f(a){return d(a)}function g(b){var c,e,f,g;return"application/json"===b.headers("content-type")&&null===angular.fromJson(b)?d(b):"string"==typeof b.data&&b.data.indexOf('<body class="login"')>0?(b.status=419,"undefined"!=typeof WCMAPI&&(c=b.config.url.split("/"),a.fluiglogin||(a.fluiglogin=window.open("/"+c[1]+"/"+c[2]+"/fluig/login.html","Login do ERP","width=650, height=550, top=100, left=100, location=no"))),d(b)):"string"==typeof b.data&&b.data.indexOf('<div id="login-container"></div>')>0&&b.data.indexOf("function doLogin() {")>0?(b.status=419,"undefined"!=typeof WCMAPI&&(c=b.config.url.split("/"),a.fluiglogin||(a.fluiglogin=window.open("/"+c[1]+"/"+c[2]+"/fluig/login.html","Login do ERP","width=550, height=550, top=100, left=100, location=no"))),d(b)):(e=b.config.headers||{},f=b.config.params||{},g=e.noCountRequest?e.noCountRequest.toString():void 0,g||(g=f.noCountRequest?f.noCountRequest.toString():void 0),"true"!==g&&a.pendingRequests--,b)}function h(a){return d(a)}var i={request:e,requestError:f,response:g,responseError:h};return a.pendingRequests=0,a.errorConnServer=!1,i}angular.module("totvsHttpInterceptor").factory("totvsHttpInterceptor",a),a.$inject=["$rootScope","$q"]}(),function(){function a(a,b,c,d){function e(a,b,c,d){return a&&b&&a[b]?a[b](c,d):"ok"}function f(b,c,d,e){if(a.has("custom."+b))try{var f=a.get("custom."+b);if(f)return f.receiveEvent(f,c,d,e)}catch(g){}}function g(a,b,c){
var e,g=d.path().split("/");return e=g[1]+"."+g[2]+"."+g[3],f(e,a,b,c)}function h(a,d){var e=c.$new(!0),f=angular.element(d);return angular.extend(e,a),b(f)(e)}var i={receiveEvent:e,callEvent:f,callCustomEvent:g,compileHTML:h,register:register};return i}angular.module("totvsCustom").factory("customization.generic.Factory",a),a.$inject=["$injector","$compile","$rootScope","$location"]}(),function(){function a(a,b){function c(c,d,e){function f(a,b){var c=0;angular.forEach(b,function(b,d){"$"!==d.charAt(0)&&"this"!==d&&(a[d]=b,c++)}),0===c&&b.$parent&&f(a,b.$parent)}var g={},h=e.totvsCustomService,i=e.totvsCustomElement||"customElement",j=[];f(g,c),h||(j=b.path().split("/"),h=j[1]+"."+j[2]+"."+j[3]),a.callEvent(h,i,g,d)}var d={restrict:"A",link:c};return d}angular.module("totvsCustom").directive("totvsCustomElement",a),a.$inject=["customization.generic.Factory","$location"]}(),function(){function a(){function a(a){var b,c;a=0===a.indexOf("#")?a:"#"+a,b=$(a),c=b.attr("type"),"daterange"===c||"decimalrange"===c||"inputrange"===c?b.find("input")[0].focus():"textarea"===c?b.find("textarea").focus():"combo"===c?b.find("select").focus():b.find("input").focus()}this.focusOn=a}angular.module("totvsUtils").service("totvs.utils.Service",a),a.$inject=[]}(),function(){function a(){function a(){var a;return navigator.browserLanguage?a=navigator.browserLanguage.substring(0,2):navigator.language&&(a=navigator.language.substring(0,2)),"pt"!==a&&"es"!==a&&"en"!==a?"pt":a}this.getBrowserDialect=a}angular.module("totvsUtilsBrowser").service("totvs.utils.browser.service",a),a.$inject=[]}(),function(){function a(a,b,c){function d(d,f,g){var h,i,j,k,l,m=0,n=b.url(),o=a.appRootContext||APP_BASE_URL;for(l="/"!==n&&n.length>2&&"/loading"!==n?"/"+n.split("/")[1]+"/"+n.split("/")[2]+"/":o,i=a.currentuser&&a.currentuser.dialect?a.currentuser.dialect.toLowerCase().substr(0,2):c.getBrowserDialect(),a.currentuser&&(a.currentuser.dialect=i),g&&g.length>0&&(g="/"+g+"/"),j=e(g||l,o),j&&j[d]||o===l||(j=e(o)),k=j&&d&&d.length>0?j[d]?j[d][i]||d:d:"",f?angular.isArray(f)||(f=[f]):f=[],h=f.length,m=0;h>m;m+=1)k=k.replace("{"+m+"}",f[m]);return k}function e(a,b){var c,d,g;for(g=f.length,d=0;g>d;d+=1)if(f[d][0]===a){c=f[d][1];break}return c||$.ajax(a+"i18n/translations.js",{type:"GET",async:!1,noErrorMessage:!0}).done(function(b){c=angular.fromJson(b)[0],f.push([a,c])}).fail(function(){c=e(b),f.push([a,c])}),c}var f=[];return d}angular.module("i18nFilter").filter("i18n",a),a.$inject=["$rootScope","$location","totvs.utils.browser.service"]}(),function(){function a(){function a(a,b){var c,d,e,f="",g=0;if(!angular.isString(a))return a;for(c=0;c<b.length;c++)if(d=b.charAt(c),"9"===d||"A"===d||"*"===d){if(e=a.charAt(g++),"9"===d)for(;!/[0-9]/.test(e);){if(g>=a.length)return f;e=a.charAt(g++)}if(f+=e,g>=a.length)return f}else f+=d;return f}return a}angular.module("maskFilter").filter("mask",a),a.$inject=[]}(),function(){function a(){function a(a){return a?a.substring(0,10):a}return a}angular.module("progressDateFilter").filter("progressDate",a),a.$inject=[]}(),function(){function a(a,b){function c(a,c){var d,e,f;f=angular.element('<div class="help-inline" ng-repeat="error in $fieldErrors"></div>'),d=a.find("validator"),e=void 0,d&&d.length>0&&(a.find(".tooltip.bottom").attr("ng-class",'{"in": $fieldErrors.length, "off": !$fieldErrors.length}'),e={},angular.forEach(d,function(a){a=angular.element(a),e[a.attr("key")]=b(a.text())})),d&&d.length>0?c.$validationMessages=angular.copy(e):a.find("div.tooltip").remove(),a.find(".tooltip-inner").append(f),a.find(".help-inline").html("{{$validationMessages[error](this)}}"),c.$watch("$field.$dirty && $field.$error",function(a){c.$fieldErrors=[],angular.forEach(a,function(a,b){a&&c.$fieldErrors.push(b)})},!0),a.find("validator").remove()}function d(a,d,e,f,g,h){var i="",j=d.label;d.$attr.nameId?f.$fieldId=d.nameId:angular.isDefined(d.ngModel)&&(f.$fieldId=d.ngModel.replace(/\-|\[|\./g,"_").toLowerCase(),f.$fieldId=f.$fieldId.replace(/\'|\]/g,"")),f.$field=g,h.attr("id",f.$fieldId),h.attr("name",f.$fieldId),j?(f.$fieldLabel=b(j)(a),i=e.find("label:first"),i.attr("for",f.$fieldId),i.html(j),i.attr("tooltip",j),i.attr("tooltip-placement","top")):(e.find("label:first").remove(),e.find("div.col-xs-8").removeClass()),d.$attr["class"]?e.addClass("col-xs-12"):e.addClass("col-xs-12 col-md-6"),c(e,f,g)}function e(a,b,c){a.$watch(b.ngHide,function(a){a===!0?c.addClass("ng-hide"):a===!1&&c.removeClass("ng-hide")})}function f(a,b,c){a.$watch(b.ngShow,function(a){a===!1?c.addClass("ng-hide"):a===!0&&c.removeClass("ng-hide")})}function g(a,b,c,d){a.$watch(b.ngDisabled,function(a){a===!0?(c.attr("disabled",!0),d.attr("disabled",!0),c.find("button").attr("disabled",!0)):a===!1&&(c.removeAttr("disabled"),d.removeAttr("disabled"),c.find("button").removeAttr("disabled"))})}function h(a,b,c,d,e){var f,g,h;a.$attr.canclean&&(f=b.find(".input-group"),g=f.find(".input-group-btn"),0===g.length&&(g=angular.element('<span class="input-group-btn"></span>'),f.append(g),f.addClass("no-block")),h=angular.element('<button class="btn btn-default" bind role="button" type="button" data-ng-click="cleanValue()"><span class="glyphicon glyphicon-remove"></span></button>'),c.cleanValue=function(){if(e)return e();var b;b="undefined"===a.canclean?void 0:"null"===a.canclean||""===a.canclean?null:a.canclean,this.control=d.controller("ngModel")||c.$field,this.control.$setViewValue(b),this.control.$render()},g.append(h))}function i(a,b){var c,d,e,f;if(a.zoomService){c=b.find(".input-group"),d=c.find(".input-group-btn"),0===d.length&&(d=angular.element('<span class="input-group-btn"></span>'),c.append(d),c.addClass("no-block")),e=angular.element("<zoom></zoom>"),e.attr("zoom-selected-internal","updateSelectModelZoom(selected)"),e.attr("ng-model","zoomSelectedItem");for(f in a.$attr)a.$attr.hasOwnProperty(f)&&a.$attr[f].indexOf("zoom")>-1&&e.attr(a.$attr[f],a[f]);d.append(e)}}this.pattern=d,this.ngHide=e,this.ngShow=f,this.ngDisabled=g,this.canclean=h,this.zoom=i}angular.module("totvsField").service("totvsFieldService",a),a.$inject=["$compile","$interpolate"]}(),function(){function a(){var a,c;c=function(a,b){return a===b},this.onRowSelected=function(b){b.node&&b.node.data&&(b=b.node.data);var d,e,f=!0;for(e=a.comparator||c,d=0;d<a.$selecteds.length;d++)if(e(a.$selecteds[d],b)){f=!1;break}f&&a.$selecteds.push(b)},this.onSelectionChanged=function(){var b,d,e,f,g,h=[];if(a.isModelUpdated===!0){for(e=a.comparator||c,b=0;b<a.$selecteds.length;b++)for(f=a.$selecteds[b],d=0;d<a.gridOptions.rowData.length;d++)if(g=a.gridOptions.rowData[d],e(f,g)){g.$selected===!1&&h.push(b);break}for(b=0;b<h.length;b++)a.$selecteds.splice(h[b],1)}},this.onModelUpdated=function(){var b,d,e,f,g;if(a.gridOptions.rowData){for(e=a.comparator||c,b=0;b<a.$selecteds.length;b++)for(f=a.$selecteds[b],d=0;d<a.gridOptions.rowData.length;d++)if(g=a.gridOptions.rowData[d],e(f,g)){(g.$selected!==!0||f.$selected===!0)&&(g.$selected=!0,a.gridOptions.api.selectIndex(d,!0));break}a.isModelUpdated=!0}},this.removeSelected=function(b){var d,e,f,g,h;if(e=a.comparator||c,f=a.gridOptions.api.getSelectedNodes(),f&&f.length>0){for(g=void 0,d=0;d<f.length;d++)if(e(b.data,f[d].data)){g=f[d];break}g&&a.gridOptions.api.deselectNode(g)}for(h=void 0,d=0;d<a.$selecteds.length;d++)if(e(b.data,a.$selecteds[d])){h=d;break}h>=0&&a.$selecteds.splice(h,1)},this.removeAllSelected=function(a){a.preventDefault(),a.stopPropagation(),this.$selecteds=[],this.gridOptions.api.deselectAll()},this.selectedAll=function(b){var c,d;for(b&&(b.preventDefault(),b.stopPropagation()),void 0===a.isAllSelecteds&&(a.isAllSelecteds=!1),a.isAllSelecteds=!a.isAllSelecteds,c=0;c<a.gridOptions.rowData.length;c++)d=a.gridOptions.rowData[c],a.isAllSelecteds===!0?a.gridOptions.api.selectIndex(c,!0):a.gridOptions.api.deselectIndex(c,!0)},this.invertSelected=function(b){var c,d;for(b&&(b.preventDefault(),b.stopPropagation()),c=0;c<a.gridOptions.rowData.length;c++)d=a.gridOptions.rowData[c],d.$selected!==!0?a.gridOptions.api.selectIndex(c,!0,!1):a.gridOptions.api.deselectIndex(c)},this.reloadSelectedGrid=function(b){var c,d,e,f,g,h;if(d='<span class="glyphicon glyphicon-trash" style="vertical-align: middle; margin-left: 3px"></span>',a.gridSelectedOptions=a.gridSelectedOptions||{},a.gridSelectedOptions.rowSelection="single",a.gridSelectedOptions.rowDeselection=!1,a.gridSelectedOptions.suppressRowClickSelection=!0,a.gridSelectedOptions.enableColResize=a.gridOptions.enableColResize,a.gridSelectedOptions.pinnedColumnCount=a.gridOptions.pinnedColumnCount,a.gridOptions.api)for(c=[],h=0;h<a.gridOptions.api.columnController.allColumns.length;h++)f=a.gridOptions.api.columnController.allColumns[h],f.colDef&&(g=angular.copy(f.colDef),g.width=f.actualWidth,g.visible=f.visible,g.index=f.index,c.push(g));else c=angular.copy(a.gridOptions.columnDefs);e=c[0]," "===e.headerName&&e.checkboxSelection===!0?(e.checkboxSelection=!1,e.cellClicked=a.removeSelected,e.cellClass="clickable",e.template=d):c.unshift({headerName:" ",checkboxSelection:!1,cellClicked:a.removeSelected,cellClass:"clickable",template:d}),a.gridSelectedOptions.columnDefs=c,b===!0&&a.gridSelectedOptions.api.onNewCols()},this.loadSelectedGrid=function(a){a&&(a.objSelected?this.$selecteds=angular.copy(a.objSelected):this.$selecteds=[a]),this.reloadSelectedGrid(),this.gridOptions.rowSelected=this.onRowSelected,this.gridOptions.modelUpdated=this.onModelUpdated,this.gridOptions.selectionChanged=this.onSelectionChanged,this.$selecteds&&this.$selecteds.length>0&&(this.gridSelectedOptions.rowData=this.$selecteds,this.onModelUpdated())},this.initializeMultiple=function(b,c,d){a=b,this.loadSelectedGrid(d),a.selectAll!==!0&&(a.isSelectedAllEnabled=!1),c.$watch("controller.$selecteds",function(){a.gridSelectedOptions.rowData=a.$selecteds})},this.openSelectedPanel=function(b){b.isFirstOpen!==!1&&a.reloadSelectedGrid(!0),b.isFirstOpen=!1},this.getSelecteds=function(){return a.$selecteds&&a.$selecteds.length>0?new b(angular.copy(a.$selecteds),angular.copy(a.$selecteds.length)):void 0},this.revertOnCancel=function(b){b&&b.objSelected&&(a.$selecteds=angular.copy(b.objSelected))}}function b(a,b){this.objSelected=a,this.size=b}angular.module("zoom").service("zoomMultipleService",a),a.$inject=[],b.prototype.toString=function(){if(this.objSelected){var a;return a=angular.element(document.body).scope().$root,this.objSelected.length+" - "+a.i18n("l-selecteds")}return this}}(),function(){var a,b,c;b={defaultTools:["formatting","bold","italic","underline","justifyLeft","justifyCenter","justifyRight","insertUnorderedList","insertOrderedList","indent","createLink","insertImage","createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],basicTextFormatting:["bold","italic","underline","strikethrough","subscript","superscript"],fontAndColor:["fontName","fontSize","foreColor","backColor"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],links:["createLink","unlink"],imagesAndFiles:["insertImage","insertFile"],tableEditing:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],structuralMarkupAndStyles:["formatting","cleanFormatting"],snippets:["insertHtml"],html:["viewHtml"],print:["print"],pdf:["pdf"]},c=[].concat(b.basicTextFormatting).concat(b.fontAndColor).concat(b.alignment).concat(b.lists).concat(b.links).concat(b.print).concat(b.pdf),a={TOOL_GROUPS:b,ALLOWED_TOOLS:c},angular.module("totvsEditor").constant("totvsEditorConstants",a)}(),function(){var a,b,c,d;b={actions:{addChild:"Adicionar filho",append:"Adicionar nova tarefa",insertAfter:"Adicionar tarefa abaixo",insertBefore:"Adicionar tarefa acima",pdf:"Exportar para PDF"},cancel:"Cancelar",deleteDependencyConfirmation:"Você tem certeza que quer deletar essa dependência?",deleteDependencyWindowTitle:"Deletar dependência",deleteTaskConfirmation:"Você tem certeza que deseja deletar essa tarefa?",deleteTaskWindowTitle:"Deletar tarefa",destroy:"Deletar",editor:{assignButton:"Atribuir",title:"Título",editorTitle:"Editar tarefa",start:"Início",end:"Fim",percentComplete:"Completo",resources:"Recursos",resourcesEditorTitle:"Recursos",resourcesHeader:"Recursos",unitsHeader:"Unidades"},save:"Salvar",views:{week:"Semana",month:"Mês",year:"Ano",day:"Dia",start:"Início",end:"Fim"}},c={actions:{addChild:"Add Child",append:"Add Task",insertAfter:"Add Below",insertBefore:"Add Above",pdf:"Export to PDF"},cancel:"Cancel",deleteDependencyConfirmation:"Are you sure you want to delete this dependency?",deleteDependencyWindowTitle:"Delete dependency",deleteTaskConfirmation:"Are you sure you want to delete this task?",deleteTaskWindowTitle:"Delete task",destroy:"Delete",editor:{assignButton:"Assign",title:"Title",editorTitle:"Task",start:"Start",end:"End",percentComplete:"Complete",resources:"Resources",resourcesEditorTitle:"Resources",resourcesHeader:"Resources",unitsHeader:"Units"},save:"Save",views:{week:"Week",month:"Month",year:"Year",day:"Day",start:"Start",end:"End"}},d={actions:{addChild:"Añadir niño",append:"Agregar tarea",insertAfter:"Añadir a continuación",insertBefore:"Sumar",pdf:"Exportar a PDF"},cancel:"Cancelar",deleteDependencyConfirmation:"¿Está seguro de que quiere eliminar esta dependencia?",deleteDependencyWindowTitle:"Eliminar la dependencia",deleteTaskConfirmation:"¿Está seguro de que quiere borrar esta tarea?",deleteTaskWindowTitle:"Eliminar tarea",destroy:"Borrar",editor:{assignButton:"Asignar",title:"Título",editorTitle:"Tarea",start:"Comienzo",end:"Fin",percentComplete:"Completar",resources:"recursos",resourcesEditorTitle:"recursos",resourcesHeader:"recursos",unitsHeader:"Unidades"},save:"Salvar",views:{week:"Semana",month:"Mes",year:"Año",day:"Día",start:"Comienzo",end:"Fin"}},a={pt:b,en:c,es:d},angular.module("totvsGantt").constant("totvsGanttConstant",a)}(),function(){angular.module("totvsExecution").value("duScrollGreedy",!0).value("duScrollBottomSpy",!0)}(),function(){function a(a,b){$.fn.hasScrollBar=function(){this.get(0).scrollHeight>this.height()+30?($("#div-execution-navigation").get(0).style.display="block",$("#div-execution-content").removeClass("col-lg-12 col-md-12").addClass("col-lg-9 col-md-9")):($("#div-execution-navigation").get(0).style.display="none",$("#div-execution-content").removeClass("col-lg-9 col-md-9").addClass("col-lg-12 col-md-12"))},b(function(){a.find(".page-execution-navigation").affix({offset:{top:130},target:angular.element(".page-wrapper")}).on("affixed.bs.affix",function(a){a.currentTarget.style.marginTop="-130px"}).on("affixed-top.bs.affix",function(a){a.currentTarget.style.marginTop="0"}),$(".container-fluid").hasScrollBar()},500),$(window).resize(function(){$(".container-fluid").hasScrollBar()})}angular.module("totvsExecution").controller("TotvsExecutionController",a),a.$inject=["$element","$timeout"]}(),function(){function a(a,b,c,d){function e(){h(j.config.repeatType,!1)}function f(){i()&&a.close()}function g(){a.dismiss()}function h(a,b){var d,e;e=function(a,b){for(j.repeatCycleItems=new Array(0),d=0;a>d;d++)j.repeatCycleItems[d]={index:d+1,description:d+1+" "+(0===d?b[0]:b[1])}},"D"===a?e(29,[c("i18n")("l-day"),c("i18n")("l-days")]):"W"===a?e(29,[c("i18n")("l-week"),c("i18n")("l-weeks")]):"M"===a&&e(12,[c("i18n")("l-month"),c("i18n")("l-months")]),b&&(j.config.repeatCycle=1,j.config.repeatWeekDays={},j.config.repeatMonthDay={day:1,last:"false"})}function i(){var a=!1;return j.config.repeatTime||(b.$broadcast(TOTVSEvent.showNotification,{type:"error",detail:c("i18n")("l-msg-select-time-executions")}),a=!0),"W"===j.config.repeatType&&(j.config.repeatWeekDays.sunday||j.config.repeatWeekDays.monday||j.config.repeatWeekDays.tuesday||j.config.repeatWeekDays.wednesday||j.config.repeatWeekDays.thursday||j.config.repeatWeekDays.friday||j.config.repeatWeekDays.saturday||(b.$broadcast(TOTVSEvent.showNotification,{type:"error",detail:c("i18n")("l-msg-select-least-one-day-for-executions")}),a=!0)),"DATE"===j.config.repeatFinish&&(j.config.repeatFinishDate?j.config.repeatFinishDate<new Date&&(b.$broadcast(TOTVSEvent.showNotification,{type:"error",detail:c("i18n")("l-msg-select-date-greater-than-current-date-end-executions")}),a=!0):(b.$broadcast(TOTVSEvent.showNotification,{type:"error",detail:c("i18n")("l-msg-select-date-end-executions")}),a=!0)),!a}var j=this;j.config=d,j.repeatCycleItems=[],j.changeRepeatCycle=h,j.save=f,j.close=g,j.config.repeatTime=j.config.repeatTime||j.config.time,e()}angular.module("totvsSchedule").controller("TotvsScheduleController",a),a.$inject=["$modalInstance","$rootScope","$filter","config"]}(),function(){function a(a){var b,c,d;b=this,c=b.tabs=a.tabs=[],b.select=function(a){var b,d;for(b=0;b<c.length;b++)d=c[b],d.active&&d!==a&&(d.active=!1,a.onDeselect&&d.onDeselect());a.active=!0,a.onSelect&&a.onSelect()},b.addTab=function(a){c.push(a),1===c.length?a.active=!0:a.active&&b.select(a)},b.removeTab=function(a){var e,f;e=c.indexOf(a),a.active&&c.length>1&&!d&&(f=e===c.length-1?e-1:e+1,b.select(c[f])),c.splice(e,1)},a.$on("$destroy",function(){d=!0})}angular.module("totvsTabset").controller("TotvsTabsetController",a),a.$inject=["$scope"]}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p,q=this,r=window.matchMedia("(orientation: portrait)");q.propertyFields=[],q.resultTotal=0,q.zoomResultList=[],q.isConfigurationOpen=!1,q.isConfigurationLocal=!0,q.isConfigurationEnabled=!1,q.isAdvancedSearchOpen=!1,q.isAdvancedSearchEnabled=!1,q.localStorageGroup="com.totvs.html.framework.zoom.config.",q.isLocalStorageAvaiable=void 0!==e.localStorage,q.isMultiple=k===!0,p=b.get(g),angular.extend(q,p),a.rendered.then(function(){n(function(){q.isRendered=!0},500)}),r.addListener(function(a){a.matches?($("div.modal-body-zoom").css("width",""),$("div.modal-body-zoom").css("display","")):($("div.modal-body-zoom").css("width","100%"),$("div.modal-body-zoom").css("display","inline-table"))}),q.filterPropertyFields=function(a){return a&&a.isAvaiableInSimpleSearch!==!1},q.onSelectionChanged=function(){1===q.gridOptions.selectedRows.length?q.$selected=q.gridOptions.selectedRows[0]:q.$selected=void 0},q.onChangeFilter=function(){q.isChanging=!0,q.resultTotal=0,q.zoomResultList=[],q.selectedFilterValue=void 0,n(function(){q.isChanging=!1})},q.applyInternalFilter=function(a){var b,c,d,e=[];if(q.isModelUpdated=!1,q.isAdvancedSearchOpen===!0)for(b=0;b<q.propertyFields.length;b++)d=angular.copy(q.propertyFields[b]),d.hasOwnProperty("value")&&void 0!==d.value&&(d.hasOwnProperty("extend")&&void 0!==d.extend&&(d.extend=d.extend.id||1),e.push(d));else c=angular.copy(q.selectedFilter),c.hasOwnProperty("extend")&&void 0!==c.extend&&(c.extend=c.extend.id||1),c.value=angular.copy(q.selectedFilterValue),e.push(c);q.applyFilter({init:i(),disclaimers:e,selectedFilter:q.isAdvancedSearchOpen===!0?void 0:c,selectedFilterValue:q.isAdvancedSearchOpen===!0?void 0:c.value,more:a,isAdvanced:!1})},q.returnInternalValue=function(a){return angular.isFunction(q.returnValue)?q.returnValue(a):a&&q.$selected?q.$selected[a]:q.$selected},q.openCloseAdvancedSearch=function(){var a;if(q.isAdvancedSearchOpen=!q.isAdvancedSearchOpen,q.isAdvancedSearchOpen===!1)for(a=0;a<q.propertyFields.length;a++)q.propertyFields[a].hasOwnProperty("value")&&(q.propertyFields[a].value=void 0);else q.selectedFilterValue=void 0},q.openCloseConfiguration=function(){var a,b;if(q.isConfigurationOpen!==!0)for(q.columns=[],a=0;a<q.gridOptions.api.columnController.allColumns.length;a++)b={colDef:angular.copy(q.gridOptions.api.columnController.allColumns[a].colDef),actualWidth:q.gridOptions.api.columnController.allColumns[a].actualWidth,pinned:q.gridOptions.api.columnController.allColumns[a].pinned,visible:q.gridOptions.api.columnController.allColumns[a].visible},(0!==a||b.colDef.checkboxSelection!==!0)&&q.columns.push({item:b});else q.columns=[];q.isConfigurationOpen=!q.isConfigurationOpen},q.onMousedown=function(a){a.stopPropagation()},q.saveConfiguration=function(){var a,b,c,d,f,g,h,i,j,k,l,m=[],n=[];for(d=angular.copy(q.gridOptions.columnDefs),f=1,d&&d.length>0&&(n.push(d[0]),d.splice(0,1)),a=0;a<q.columns.length;a++){for(c=q.columns[a].item,g=c.colDef.hasOwnProperty("field")&&void 0!==c.colDef.field,h=void 0,b=0;b<d.length;b++)if(i=d[b],j=!1,j=g?c.colDef.field===i.field:c.colDef.headerName===i.headerName,j===!0){i.width=c.actualWidth,i.hide=!c.visible,i.pinned=c.pinned,c.pinned===!0?(f++,n.push(i)):m.push(i),h=b;break}h>-1&&d.splice(h,1)}k={zoomName:q.zoomName,columnDefs:n.concat(m)},l=function(){q.reloadDataGrid(k,f),q.openCloseConfiguration()},q.isConfigurationLocal===!0?(q.isLocalStorageAvaiable===!0&&e.localStorage.setItem(q.localStorageGroup+q.zoomName,angular.toJson(k)),l()):q.configuration.save(k,l)},q.reloadDataGrid=function(a,b){var c,d,e,f,g=[];if(angular.isArray(a)===!1&&a.hasOwnProperty("zoomName")&&a.hasOwnProperty("columnDefs")&&(a=a.columnDefs),void 0===b)for(b=0,e=0;e<a.length;e++)a[e].pinned===!0&&b++;for(q.gridOptions.pinnedColumnCount=b-1,q.gridOptions.columnApi&&q.gridOptions.columnApi.setPinnedColumnCount(b),f=0;f<a.length;f++)for(d=a[f],e=0;e<q.gridOptions.columnDefs.length;e++)if(c=q.gridOptions.columnDefs[e],c.headerName===d.headerName){c.hide=d.hide,c.width=d.width,c.pinned=d.pinned,g.push(angular.copy(c));break}q.gridOptions.columnDefs=g,q.gridOptions.api&&q.gridOptions.api.onNewCols(),n(function(){q.gridOptions.api.columnController.getTotalColWidth()<q.gridOptions.api.gridPanel.getWidthForSizeColsToFit()&&q.gridOptions.api.sizeColumnsToFit(),q.isMultiple===!0&&angular.isFunction(q.reloadSelectedGrid)&&q.reloadSelectedGrid(!0)},300)},q.parseTableHeaderToGridOptions=function(){var a;for(q.gridOptions.columnDefs=q.gridOptions.columnDefs||[],a=0;a<q.tableHeader.length;a++)q.gridOptions.columnDefs.push({headerName:c.i18n(q.tableHeader[a].label),field:q.tableHeader[a].property})},q.loadGrid=function(){if(q.gridOptions=q.gridOptions||{},void 0!==q.tableHeader?q.parseTableHeaderToGridOptions():q.gridOptions.columnDefs=q.columnDefs,void 0!==q.options&&angular.extend(q.gridOptions,q.options),q.gridOptions.rowDeselection=!0,q.isMultiple===!0?(q.gridOptions.rowSelection="multiple",q.gridOptions.suppressRowClickSelection=!0):q.gridOptions.rowSelection="single",void 0===q.gridOptions.enableColResize&&(q.gridOptions.enableColResize=!0),void 0===q.gridOptions.selectionChanged&&(q.gridOptions.selectionChanged=q.onSelectionChanged),q.isConfigurationLocal===!0){if(q.isLocalStorageAvaiable===!0){var a=e.localStorage.getItem(q.localStorageGroup+q.zoomName);a&&q.reloadDataGrid(angular.fromJson(a))}}else q.configuration.load(q.reloadDataGrid)},q.loadDefaults=function(){void 0!==q.advancedSearch?q.isAdvancedSearchEnabled=q.advancedSearch===!0:q.isAdvancedSearchEnabled=!1,void 0!==q.configuration?(angular.isObject(q.configuration)||q.configuration!==!1)&&(q.isConfigurationEnabled=!0):q.isConfigurationEnabled=!1,angular.isObject(q.configuration)&&(q.isConfigurationLocal=!1),f.defaultOptions={maxDepth:1}},q.initialize=function(){var a,c;if(q.loadDefaults(),q.loadGrid(),n(function(){$("div.modal-body div.accordion").length<=0&&$("div.row.zoom-result #centerRow").length>0&&$("div.row.zoom-result #centerRow").css("height",$("div.row.zoom-result").height()),d.$watch("controller.zoomResultList",function(){q.gridOptions.rowData=q.zoomResultList})},500),q.propertyFields)for(a=0;a<q.propertyFields.length;a++)q.propertyFields[a]&&q.propertyFields[a]["default"]===!0&&(q.selectedFilter=q.propertyFields[a]);q.gridOptions.ready=function(){q.isMultiple===!0&&(q.$selecteds=[],q.isModelUpdated=!1,c=b.get("zoomMultipleService"),angular.extend(q,c),q.initializeMultiple(q,d,m)),angular.isFunction(q.afterInitialize)&&q.afterInitialize()}},q.alertMessage=function(a){q.type="warning",q.title=c.i18n("l-attention"),q.messageDefault=c.i18n("l-zoom-message"),q.message=void 0!==a?a:q.messageDefault,o.notify({detail:q.message,type:q.type,title:q.title})},q.ok=function(){var b=q.isMultiple===!0?q.getSelecteds():q.$selected;b?q.isMultiple===!0?(q.selecteds=q.getSelecteds(),1===q.selecteds.size?(q.$selected=q.selecteds.objSelected[0],a.close(q.returnInternalValue(j)),angular.isFunction(h)&&h(q.$selected)):(a.close(q.selecteds),angular.isFunction(h)&&h(q.selecteds))):(a.close(q.returnInternalValue(j)),angular.isFunction(h)&&h(q.$selected)):q.alertMessage(l)},q.cancel=function(){q.isMultiple===!0&&q.revertOnCancel(m),a.dismiss()},d.$on("$stateChangeStart",function(){a.dismiss("cancel")}),d.$on("$destroy",function(){q.gridOptions&&(q.gridOptions=void 0),q.gridSelectedOptions&&(q.gridSelectedOptions=void 0),q=void 0})}angular.module("zoom").controller("zoomController",a),a.$inject=["$modalInstance","$injector","$rootScope","$scope","$window","$nestable","zoomoptions","zoomcallback","zoominit","zoomid","zoommultiple","zoomalertmessage","previousselect","$timeout","totvs.app-notification.Service"]}(),function(){function a(){function a(a,c){var d=a.is("input:text");return function(a,e,f,g){var h,i;h=angular.extend({},b,a.$eval(f.autonumeric)),i=function(a,b){var c,d,e;void 0===b||null===b?b="":(c=a.autoNumeric("getSettings"),d=new RegExp("\\"+c.aSep,"g"),b=b.replace(d,""),e=new RegExp("\\"+c.aDec,"g"),b=b.replace(e,".")),a.autoNumeric("set",b)},f.$observe("vMax",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{vMax:a})}),f.$observe("vMin",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{vMin:a})}),f.$observe("aDec",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{aDec:a})}),f.$observe("mDec",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{mDec:a})}),f.$observe("aSep",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{aSep:a})}),f.$observe("aPad",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{aPad:a})}),f.$observe("aForm",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{aForm:a})}),f.$observe("aSign",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{aSign:a})}),f.$observe("pSign",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{pSign:a})}),f.$observe("lZero",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{lZero:a})}),f.$observe("altDec",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{altDec:a})}),f.$observe("dGroup",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{dGroup:a})}),f.$observe("mRound",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{mRound:a})}),f.$observe("wEmpty",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{wEmpty:a})}),f.$observe("nBracket",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{nBracket:a})}),f.$observe("anDefault",function(a){a&&a.toString().length>0&&e.autoNumeric("update",{vMax:a})}),e.autoNumeric("init",h),g&&d?(a.$watch(c.ngModel,function(){g.$render()}),g.$render=function(){e.data("autoNumeric")&&i(e,g.$viewValue)}):d&&f.$observe("value",function(a){i(e,a)}),g.$formatters.push(function(a){var b;return a&&(b=e.autoNumeric("getSettings"),a=a.toString().replace(/\./g,b.aDec)),a}),g.$parsers.push(function(){return e.autoNumeric("get")})}}var b,c;return c={restrict:"A",require:"ngModel",compile:a},b={vMax:9999999999999.99,vMin:0,aDec:",",mDec:2,aSep:".",aPad:!0,aForm:!0,aSign:"",pSign:"p",lZero:"allow",altDec:"tab",dGroup:3,mRound:"S",wEmpty:"empty",nBracket:void 0,anDefault:void 0},c}angular.module("autonumeric").directive("autonumeric",a),a.$inject=[]}(),function(){function a(a){function b(b,c,d,e){var f,g;b.safeApply=function(a){var b=this.$root.$$phase;"$apply"===b||"$digest"===b?a&&"function"==typeof a&&a():this.$apply(a)},f=function(a){e.$setViewValue(a)},g="bootstrap-switch",c.addClass(g),c.attr("data-size",""===d.bsswitch?"mini":d.bsswitch),c.attr("data-on-text",a.i18n("l-yes")),c.attr("data-off-text",a.i18n("l-no")),e.$setViewValue(d.checked),c.on("switchChange.bootstrapSwitch",function(a,c){e&&b.safeApply(f(c))}),b.$watch(d.ngModel,function(a){a?c.bootstrapSwitch("state",!0,!0):c.bootstrapSwitch("state",!1,!0)}),d.ngDisabled&&b.$watch(d.ngDisabled,function(a){void 0!==a?c.bootstrapSwitch("disabled",a,!0):c.bootstrapSwitch("disabled",!0,!0)})}var c={restrict:"A",require:"ngModel",link:b};return c}angular.module("bsswitch").directive("bsswitch",a),a.$inject=["$rootScope"]}(),function(){function a(){function a(a,b,c){var d,e,f,g,h,i,j;return h=null,j=c.width||"100%",d=c.height||"100%",a.dataset||(a.dataset=[]),a.options||(a.options={legend:{show:!1}}),i=$(b.children()[0]),i.css({width:j,height:d}),e=function(){var b;return a.dataset&&a.dataset.length>0&&(b=$.plot(i,a.dataset,a.options),a.callback&&a.callback(b),i.bind("plotclick",function(b,c,d){a.plotclick&&a.plotclick(b,c,d)})),b},f=function(a){return h?(h.setData(a),h.setupGrid(),h.draw()):h=e()},a.$watch("dataset",f,!0),g=function(){return h=e()},a.$watch("options",g,!0)}var b={template:"<div></div>",restrict:"EA",scope:{dataset:"=",options:"=",callback:"=",plotclick:"="},link:a};return b}angular.module("chart").directive("chart",a),a.$inject=[]}(),function(){function a(){function a(a,b,c,d){var e,f;a.safeApply=function(a){var b=this.$root.$$phase;"$apply"===b||"$digest"===b?a&&"function"==typeof a&&a():this.$apply(a)},e=function(a){d.$setViewValue(a)},f=function(){$(".modal").scroll(function(){b.datepicker("hide")}),$(".container-fluid").scroll(function(){b.datepicker("hide")}),b.datepicker(),b.on("changeDate",function(b){var c=null;b.date&&(c=b.date.getTime()),c!==d.$viewValue&&a.safeApply(e(c))}),b.on("clearDate",function(){var b=null;b!==d.$viewValue&&a.safeApply(e(b))}),a.startDate()&&b.datepicker("setStartDate",new Date(a.startDate())),a.endDate()&&b.datepicker("setEndDate",new Date(a.endDate())),b.find("input").attr("placeholder",c.placeholder)},a.$watch(c.startDate,function(){a.startDate()?b.datepicker("setStartDate",new Date(a.startDate())):b.datepicker("setStartDate",null)}),a.$watch(c.endDate,function(){a.endDate()?b.datepicker("setEndDate",new Date(a.endDate())):b.datepicker("setEndDate",null)}),a.$on("$stateChangeStart",function(){b.datepicker("hide")}),d.$render=function(){var a;a=void 0===d.$viewValue||null===d.$viewValue?null:new Date(d.$viewValue),b.datepicker("setDate",a)},a.$watch(c.datePicker,f,!0)}var b={template:"<div></div>",restrict:"A",require:"ngModel",scope:{startDate:"&",endDate:"&"},link:a};return b}angular.module("datePicker").directive("datePicker",a),a.$inject=[]}(),function(){function a(){function a(a,b,c,d){var e,f;a.safeApply=function(a){var b=this.$root.$$phase;"$apply"===b||"$digest"===b?a&&"function"==typeof a&&a():this.$apply(a)},e=function(a,b){var c={};d.$viewValue&&(c.start=d.$viewValue.start||null,c.end=d.$viewValue.end||null),a&&angular.isDate(a)&&(a=a.getTime()),b?c.start=a:c.end=a,void 0===c.start&&void 0===c.end&&(c=void 0),d.$setViewValue(c)},f=function(){b.datepicker();var f,g;f=b.find("[name=start]"),g=b.find("[name=end]"),f.on("changeDate",function(b){var c=b.date;d.$viewValue&&d.$viewValue.start&&c===d.$viewValue.start||a.safeApply(e(b.date,!0)),g.datepicker("setStartDate",c)}),g.on("changeDate",function(b){var c=b.date;d.$viewValue&&d.$viewValue.end&&c===d.$viewValue.end||a.safeApply(e(b.date,!1)),f.datepicker("setEndDate",c)}),f.on("clearDate",function(){a.safeApply(e(null,!0))}),g.on("clearDate",function(){a.safeApply(e(null,!1))}),f.attr("placeholder",c.startPlaceholder),g.attr("placeholder",c.endPlaceholder),$(".modal").scroll(function(){a.hideDatePicker()}),$(".container-fluid").scroll(function(){a.hideDatePicker()})},a.$watch("startDate",function(){var c,d;c=b.find("[name=start]"),d=b.find("[name=end]"),a.startDate?(c.datepicker("setStartDate",new Date(a.startDate)),d.datepicker("setStartDate",new Date(a.startDate))):(c.datepicker("setStartDate",null),d.datepicker("setStartDate",null))}),a.$watch("endDate",function(){var c,d;c=b.find("[name=start]"),d=b.find("[name=end]"),a.endDate?angular.isDate(a.endDate)?(c.datepicker("setEndDate",a.endDate),d.datepicker("setEndDate",a.endDate)):(c.datepicker("setEndDate",new Date(a.endDate)),
d.datepicker("setEndDate",new Date(a.endDate))):(c.datepicker("setEndDate",null),d.datepicker("setEndDate",null))}),a.$on("$stateChangeStart",function(){a.hideDatePicker()}),d.$render=function(){var a,c,e,f;d.$viewValue?(void 0===d.$viewValue.start&&(d.$viewValue.start=null),void 0===d.$viewValue.end&&(d.$viewValue.end=null),a=b.find("[name=start]"),c=d.$viewValue.start,c&&!angular.isDate(c)&&(c=new Date(c)),e=b.find("[name=end]"),f=d.$viewValue.end,f&&!angular.isDate(f)&&(f=new Date(f)),a.datepicker("setDate",c),e.datepicker("setDate",f)):(a=b.find("[name=start]"),e=b.find("[name=end]"),e.datepicker("setDate",void 0),a.datepicker("setDate",void 0))},a.$watch(c.datePickerRange,f,!0),a.hideDatePicker=function(){var a,c;a=b.find("[name=start]"),c=b.find("[name=end]"),a.datepicker("hide"),c.datepicker("hide")}}var b={restrict:"A",require:"ngModel",scope:{startDate:"=",endDate:"="},link:a};return b}angular.module("datePickerRange").directive("datePickerRange",a),a.$inject=[]}(),function(){function a(a){function b(b,c,d,e){var f,g,h,i,j,k,l;k=c.find("[name=start]"),l=c.find("[name=end]"),f=function(){k.change(function(a){g($(a.target).val(),!0)}),l.change(function(a){g($(a.target).val())}),k.attr("placeholder",d.startPlaceholder),l.attr("placeholder",d.endPlaceholder),d.$observe("vMax",function(a){a&&a.toString().length>0&&h({vMax:a})}),d.$observe("vMin",function(a){a&&a.toString().length>0&&h({vMin:a})}),d.$observe("aDec",function(a){a&&a.toString().length>0&&h({aDec:a})}),d.$observe("mDec",function(a){a&&a.toString().length>0&&h({mDec:a})}),d.$observe("aSep",function(a){a&&a.toString().length>0&&h({aSep:a})}),d.$observe("aPad",function(a){a&&a.toString().length>0&&h({aPad:a})}),d.$observe("aForm",function(a){a&&a.toString().length>0&&h({aForm:a})}),d.$observe("aSign",function(a){a&&a.toString().length>0&&h({aSign:a})}),d.$observe("pSign",function(a){a&&a.toString().length>0&&h({pSign:a})}),d.$observe("lZero",function(a){a&&a.toString().length>0&&h({lZero:a})}),d.$observe("altDec",function(a){a&&a.toString().length>0&&h({altDec:a})}),d.$observe("dGroup",function(a){a&&a.toString().length>0&&h({dGroup:a})}),d.$observe("mRound",function(a){a&&a.toString().length>0&&h({mRound:a})}),d.$observe("wEmpty",function(a){a&&a.toString().length>0&&h({wEmpty:a})}),d.$observe("nBracket",function(a){a&&a.toString().length>0&&h({nBracket:a})}),d.$observe("anDefault",function(a){a&&a.toString().length>0&&h({vMax:a})})},h=function(a){k.autoNumeric("update",a),l.autoNumeric("update",a)},j=function(a){var b,d;b=c.find("[name=start]"),d=c.find("[name=end]"),a?(a.start&&(b.val(a.start),b.autoNumeric("set",a.start),g(b.val(),!0)),a.end&&(d.val(a.end),d.autoNumeric("set",a.end),g(d.val(),!1))):(b.val(void 0),d.val(void 0))},g=function(a,b){var c={};e.$viewValue&&(c.start=e.$viewValue.start||void 0,c.end=e.$viewValue.end||void 0),b===!0?c.start=a:c.end=a,e.$setViewValue(c)},e.$formatters.unshift(function(b){i&&a.cancel(i),i=a(function(){j(b)},300)}),b.$watch(d.decimalRange,f,!0)}var c={restrict:"A",require:"ngModel",link:b};return c}angular.module("decimalRange").directive("decimalRange",a),a.$inject=["$timeout"]}(),function(){function a(a,b,c,d,e){function f(f,g){var h,i,j,k,l,m,n,o;return h=f.find("validator"),i=void 0,h&&h.length>0&&(i={},angular.forEach(h,function(b){b=angular.element(b),i[b.attr("key")]=a(b.text())})),j=f.find("label"),k=void 0,k=j&&j.length>0?j[0]&&j.html():g.label,l=[],m=f.find("totvs-options").children(),angular.forEach(m,function(a){a=angular.element(a),l.push({id:a.attr("value"),text:a.text()})}),n=f.find("include").html(),o=f.find("zoom")[0],f.html(""),function(f,g,m,p){var q=m.type||"input",r=e.appRootContext||"";r+="html/templates/field/"+q+".html",c.get(r,{cache:d}).then(function(c){var d,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;for(r=angular.element(c.data),s=f.$new(),d=0;d<l.length;d++)l[d].text=a(l[d].text)(f);if(s.$options=l,h&&h.length>0?s.$validationMessages=angular.copy(i):r.find("div.tooltip").remove(),m.$attr.nameId?s.$fieldId=m.nameId:angular.isDefined(m.ngModel)&&(s.$fieldId=m.ngModel.replace(".","_").toLowerCase(),s.$fieldId=s.$fieldId.replace(/'/g,"")),g.attr("id",s.$fieldId),f.$watch(m.ngShow,function(a){a===!1?r.parents("field").addClass("ng-hide"):a===!0&&r.parents("field").removeClass("ng-hide")}),f.$watch(m.ngHide,function(a){a===!0?r.parents("field").addClass("ng-hide"):a===!1&&r.parents("field").removeClass("ng-hide")}),f.$watch(m.ngDisabled,function(a){a===!0?(g.attr("disabled",!0),g.find("button").attr("disabled",!0),g.find("input").attr("disabled",!0)):a===!1&&(g.removeAttr("disabled"),g.find("button").removeAttr("disabled"),g.find("input").removeAttr("disabled"))}),v=r.find("[bind]"),angular.forEach(m.$attr,function(a){if("type"!==a&&"class"!==a){var b=g.attr(a);v.attr(a,b)}}),v.attr("name",s.$fieldId),v.attr("id",s.$fieldId),k?(s.$fieldLabel=a(k)(f),w=r.find("label:first"),w.attr("for",s.$fieldId),w.html(k),j&&j.attr("title")?w.attr("tooltip",j.attr("title")):w.attr("tooltip",k),w.attr("tooltip-placement","top")):(r.find("label:first").remove(),r.find("div.col-xs-8").removeClass()),x=r.find("[include]"),x.length>0&&x.append(n),o){for(t=r.find(".input-group"),u=t.find(".input-group-btn"),0===u.length&&(u=angular.element('<span class="input-group-btn"></span>'),t.append(u),t.addClass("no-block")),y=angular.element("<zoom></zoom>"),m.selectConector?(y.attr("zoom-selected-internal","updateSelectModelZoom(selected)"),y.attr("ng-model","zoomSelectedItem")):y.attr("ng-model",m.ngModel),d=0;d<o.attributes.length;d++)q=o.attributes[d],y.attr(q.name,q.value);u.append(y)}m.$attr["class"]?g.addClass("col-xs-12"):g.addClass("col-xs-12 col-md-6"),m.$attr.keypad&&(t=r.find(".input-group"),u=t.find(".input-group-btn"),0===u.length&&(u=angular.element('<span class="input-group-btn"></span>'),t.append(u),t.addClass("no-block")),z=angular.element('<button class="btn btn-default" role="button" type="button" data-ng-click="openKeypad($event)"><span class="glyphicon glyphicon-th"></span></button>'),A=angular.element('<div><totvskeypad is-open="keypadOpen"></totvskeypad></div>'),A.attr("ng-model",m.ngModel),s.openKeypad=function(a){a.preventDefault(),a.stopPropagation(),s.keypadOpen=!s.keypadOpen},v.before(A),u.append(z)),m.$attr.canclean&&(t=r.find(".input-group"),u=t.find(".input-group-btn"),0===u.length&&(u=angular.element('<span class="input-group-btn"></span>'),t.append(u),t.addClass("no-block")),B=angular.element('<button class="btn btn-default" role="button" type="button" data-ng-click="cleanValue()"><span class="glyphicon glyphicon-remove"></span></button>'),s.cleanValue=function(){var a;a="undefined"===m.canclean?void 0:"null"===m.canclean||""===m.canclean?null:m.canclean,this.control=v.controller("ngModel")||s.$field,this.control.$setViewValue(a),this.control.$render(),m.selectConector&&f.cleanSelectValue(this.control)},u.append(B)),"workflow"===m.type&&e.isFluig&&(t=r.find(".input-group"),u=t.find(".input-group-btn"),0===u.length&&(u=angular.element('<span class="input-group-btn"></span>'),t.append(u),t.addClass("no-block")),F=angular.element('<button class="btn btn-default" role="button" type="button" data-ng-click="openProcess($event)"><span class="fluigicon fluigicon-sm fluigicon-user-pending pull-left" style="height:20px"></span></button>'),G=function(a){null!==a.ECM&&null!==a.ECM.processSearch&&null!==a.ECM.processSearch.openWorkflowDetail?a.ECM.processSearch.openWorkflowDetail=function(b){var c=v.controller("ngModel")||s.$field;c.$setViewValue(b),c.$render(),a.close()}:setTimeout(function(){G(a)},1e3)},s.openProcess=function(a){var b,c;c=window.location.toString(),c=c.substring(c.indexOf("/portal/")),c=c.substring(0,c.indexOf("/",10)),a.stopPropagation(),b=window.open(c+"/pageprocesssearch","_blank"),setTimeout(function(){G(b)},1e3)},u.append(F)),g.append(r),b(r)(s),s.$field=v.controller("ngModel")||p,s.$watch("$field.$dirty && $field.$error",function(a){s.$fieldErrors=[],angular.forEach(a,function(a,b){a&&s.$fieldErrors.push(b)})},!0),m.$attr.focus&&(C=r[0].parentElement,D=C.getAttribute("type"),"select"===D||"select2"===D?(E=C.getAttribute("name-id"),setTimeout(function(){var a;a=null!==E&&void 0!==E?$("#"+E).find("input.ui-select-focusser"):$("input.ui-select-focusser"),a.focus()},700)):"date"===D||"daterange"===D||"decimalrange"===D||"inputrange"===D?v[0].firstElementChild.focus():v.focus())},function(){throw new Error("Template not found: "+q+".html")})}}var g={restrict:"E",require:"?ngModel",priority:200,compile:f};return g}angular.module("field").directive("field",a),a.$inject=["$interpolate","$compile","$http","$templateCache","$rootScope"]}(),function(){function a(){function a(a,b,c,d){var e,f;e=function(){var a,d;a=b.find("[name=start]"),d=b.find("[name=end]"),a.change(function(a){f($(a.target).val(),!0)}),d.change(function(a){f($(a.target).val())}),a.attr("placeholder",c.startPlaceholder),d.attr("placeholder",c.endPlaceholder),a.attr("maxlength",c.startMaxlength),d.attr("maxlength",c.endMaxlength)},d.$render=function(){var a,c;a=b.find("[name=start]"),c=b.find("[name=end]"),d.$viewValue?(a.val(d.$viewValue.start),c.val(d.$viewValue.end)):(a.val(void 0),c.val(void 0))},f=function(a,b){var c={};d.$viewValue&&(c.start=d.$viewValue.start||void 0,c.end=d.$viewValue.end||void 0),b===!0?c.start=a:c.end=a,d.$setViewValue(c)},a.$watch(c.inputRange,e,!0)}var b={restrict:"A",require:"ngModel",link:a};return b}angular.module("inputRange").directive("inputRange",a),a.$inject=[]}(),function(){function a(a){function b(b,c,d,e){var f,g;f=e.scope.items(),g=e.scope.itemsAs||"item",b.$watch(function(){var a,b=0;for(a=0;a<f.length;a++)f[a].$selected&&b++;return b},function(b){if(b>0){var h,i,j=!0;for(h=0;h<f.length&&(!f[h].$selected||(i=a(d.multipleSelected||"true"),e.scope.$parent[g]=f[h],j=i(e.scope.$parent),j));h++);c.attr("disabled",!j)}else c.attr("disabled",!0)})}var c={restrict:"A",require:"^totvsPageHeaderOperationAction",link:b};return c}angular.module("multipleSelected").directive("multipleSelected",a),a.$inject=["$parse"]}(),function(){function a(){function a(a,b,c,d){d.$parsers.push(function(a){var b;return void 0===a||null===a?"":(a=a.toString(),b=a.replace(/\D+/g,""),b!==a&&(d.$setViewValue(b),d.$render()),b)})}var b={require:"ngModel",link:a};return b}angular.module("numbersOnly").directive("numbersOnly",a),a.$inject=[]}(),function(){function a(){function a(a,b,c){b.keypress("enter",function(b){13===b.keyCode&&(b.preventDefault(),b.stopPropagation(),a.$apply(function(){a.$eval(c.onKeyEnter)}))})}return a}angular.module("onKeyEnter").directive("onKeyEnter",a),a.$inject=[]}(),function(){function a(a,b,c){function d(a,c,d){a.initfn=b(d.selectInit),a.selectId=d.selectId,a.selectService=d.selectService,a.selectDescription=d.selectDescription,a.selectList=[],a.selectModel="",a.selectPlaceholder=d.selectConector||"Selecione",a.selectRefreshDelay=d.selectRefreshDelay||500}function e(d,e,f,g){function h(a){return a=void 0===a||null===a?"":a.toString().toLowerCase(),m=void 0===m?void 0:m.toString().toLowerCase(),o||m===a||(o=!0),o&&m!==a||!o&&m===a||""===a}var i,j,k,l,m,n,o=!0;if(d.selectService&&(i=a.get(d.selectService)),void 0===i)throw"Serviço para o zoom não definido.";g.$formatters.unshift(function(a){l&&(a||l.select(void 0)),k&&c.cancel(k),k=c(function(){d.loadValue(a)},d.selectRefreshDelay)}),d.initSelectComponent=function(a){l=a,l.disabled=b(f.ngDisabled)(d)},d.loadValue=function(a){var b;a&&angular.isObject(a)&&(a=a[d.selectId]),b=i.getObjectFromValue(a,d.initfn(d)),b&&l?b.then?b.then(function(a){a&&a.hasOwnProperty(d.selectId)?l.select(a):l.select(d.selectModel)}):l.select(b):l.select(d.selectModel)},d.refreshSelectList=function(a){var b,c;h(a)&&(c={property:d.selectDescription||d.selectId},a&&angular.isObject(a)&&(a=a[d.selectId]),o=!1,b=i.applyFilter({init:d.initfn(d),disclaimers:[{property:c.property,value:a}],selectedFilter:c,selectedFilterValue:a,more:!1,isAdvanced:!1,isSelectValue:!0}),b&&(b.then?b.then(function(a){d.selectList=a}):d.selectList=b))},setTimeout(function(){e.find("input.ui-select-search").on("keydown",function(a){9===a.keyCode&&void 0!==l.search&&d.loadValue(l.search)}),e.find("input.ui-select-search").focusin(function(){n=""!==l.search?l.search:"",l.selected?l.search=l.selected[d.selectId]:l.search="",n&&(l.search=l.search.concat(n)),o||m!==l.search||(d.selectList=[]),o=!0}),e.find("input.ui-select-search").focusout(function(){setTimeout(function(){l.search=""},500)})},500),d.updateSelectModel=function(a){d.selectModel=a,a?g.$setViewValue(a[d.selectId]):g.$setViewValue(void 0),d.selectList=[],m=void 0!==d.selectModel&&null!==d.selectModel?d.selectModel[d.selectId]:void 0,g.$render()},d.updateSelectModelZoom=function(a){l.select(a)},d.cleanSelectValue=function(){var a;a="undefined"===f.canclean?void 0:null,l.select(a),l.search=a},d.getDescription=function(a){var b;return angular.isNumber(a)&&(a=d.selectModel),a?(i&&angular.isFunction(i.getDescription)?b=i.getDescription(a):(b=a[d.selectId],d.selectDescription&&(b=b+" - "+a[d.selectDescription])),b.toString()):void 0},f.selectInit&&d.$watch(f.selectInit,function(a){a&&(j&&c.cancel(j),j=c(function(){d.loadValue(g.$modelValue),d.refreshSelectList()},d.selectRefreshDelay))},!0),d.$on("$destroy",function(){l=void 0,k&&c.cancel(k),j&&c.cancel(j)})}var f={restrict:"A",require:"ngModel",scope:!0,link:{pre:d,post:e}};return f}angular.module("selectConector").directive("selectConector",a),a.$inject=["$injector","$parse","$timeout"]}(),function(){function a(a,b,c,d,e){function f(f,g){var h,i;i=function(){b.get(f.template,{cache:c}).then(function(b){var c,i;c=b.data,i=f.popoverData,f.promise&&(i=f.promise),i.$promise&&(i=i.$promise),d.when(i).then(function(){var b=angular.element(c);h=a(b)(f),e(function(){var a={container:void 0===f.container?"body":f.container,content:h,placement:f.placement||"right",html:!0,title:f.title};f.large&&(a.template='<div class="popover popover-large"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'),$(g).popover(a),$(g).on("show.bs.popover",function(){$("[template-popover]").each(function(a,b){$(g)[0]!==$(b)[0]&&$(b).data("bs.popover")&&$(b).popover("hide")})}),$(g).popover("show")})})})},f.$watch("promise",function(){f.promise?i():$(g).popover("destroy")})}var g={template:"<span ng-transclude></span>",restrict:"A",transclude:!0,scope:{large:"=",placement:"@",popoverData:"=",promise:"=",title:"@",container:"=",template:"@templatePopover"},link:f};return g}angular.module("templatePopover").directive("templatePopover",a),a.$inject=["$compile","$http","$templateCache","$q","$timeout"]}(),function(){function a(){function a(a,b,c){var d=c.templatePopoverRemoveAll||"click";$(b).on(d,function(){$("[template-popover]").each(function(a,b){$(b).data("bs.popover")&&$(b).popover("hide")})})}var b={restrict:"A",link:a};return b}angular.module("templatePopoverRemoveAll").directive("templatePopoverRemoveAll",a),a.$inject=[]}(),function(){function a(){function a(a,b,c,d){var e,f;e=function(a){d.$setViewValue(a)},f=function(){b.timepicker(),b.on("changeTime.timepicker",function(b){b.time.value!==d.$viewValue&&a.$apply(e(b.time.value))}),$(".modal").scroll(function(){b.timepicker("hideWidget")}),$(".container-fluid").scroll(function(){b.timepicker("hideWidget")})},a.$on("$stateChangeStart",function(){b.timepicker("hideWidget")}),d.$render=function(){b.timepicker("setTime",d.$viewValue)},a.$watch(c.timePicker,f,!0)}var b={restrict:"A",require:"ngModel",link:a};return b}angular.module("timePicker").directive("timePicker",a),a.$inject=[]}(),function(){function a(a){function b(b,c,d){d.tClick&&c.find("button").attr("ng-click",d.tClick),d.tIcon&&(c.find("button").addClass("glyphicon"),c.find("button").addClass(d.tIcon)),c.removeAttr("t-click"),c.removeAttr("t-icon"),a(c.find("button"))(b.$parent)}var c={template:'<div class="field-container"><button type="submit" class="form-control btn btn-default"></button></div>',restrict:"E",scope:{tIcon:"@",tClick:"&"},link:b};return c}angular.module("totvsButton").directive("totvsButton",a),a.$inject=["$compile"]}(),function(){function a(){function a(a,b,c){function d(){return h?h:h=b.find("[kendo-chart]").getKendoChart()}function e(a){var b=a||"chart";return b}function f(){d().exportImage().done(function(b){var c=e(a.tTitle)+".png";kendo.saveAs({dataURI:b,fileName:c})})}function g(){d().exportPDF({paperSize:"A5",landscape:!0}).done(function(b){var c=e(a.tTitle)+".pdf";kendo.saveAs({dataURI:b,fileName:c})})}var h;a.$watch("tSeries",function(a,b){a!==b&&(d().options.series=a,d().refresh())}),a.$watch("tCategories",function(a,b){a!==b&&(d().options.categoryAxis.categories=a,d().refresh())}),a.$watch("tTypeChart",function(a,b){if(a!==b){var c,e=h.options.series.length;for(c=0;e>c;c+=1)d().options.series[c].type=a;d().refresh()}}),c.tSetExport&&a.tSetExport()({pdf:g,png:f}),a.chart={theme:"bootstrap",legend:{position:"bottom"},title:{position:a.titlePosition,text:a.title,font:"18px Arial,Helvetica,sans-serif"},seriesDefaults:{type:a.typeChart},dataSource:{transport:{read:{url:a.remoteData,dataType:"json"}}},series:a.series,valueAxis:{max:a.valueMax,min:a.valueMin,line:{visible:!0},minorGridLines:{visible:!1}},categoryAxis:{field:a.categoryField,labels:{rotation:"auto"},categories:a.categories,majorGridLines:{visible:!0}},tooltip:{visible:!0},seriesHover:a.onHover(),seriesClick:a.onClick()}}var b={template:'<div kendo-chart k-options="chart"></div>',restrict:"E",scope:{tTitle:"@",tTitlePosition:"@",tTypeChart:"@",tSeries:"=",tCategories:"=",tCategoryField:"=",tValueMax:"=",tValueMin:"=",tRemoteData:"=",tOnClick:"&",tOnHover:"&",tSetExport:"&"},link:a};return b}angular.module("totvsChart").directive("totvsChart",a),a.$inject=[]}(),function(){function a(a,b,c){function d(d,e,f,g){function h(){d.maxDate=new Date(2100,12,31),d.minDate=new Date(1900,1,1)}function i(){setTimeout(function(){var a,b,c,d,g;d=e.find("[startDate]"),g=e.find("[endDate]"),b=d.data("kendoDatePicker"),c=g.data("kendoDatePicker"),a=e.find(".k-picker-wrap"),f.$attr.canclean&&(a[1].style.borderRadius="0"),f.$attr.autoOpen&&(d.focusin(function(){b.open()}),g.focusin(function(){c.open()}))},200)}var j,k,l,m,n,o,p,q;q=angular.element('<input kendo-date-picker startDate k-ng-model="ngModel.startDate" k-options="startDatePickerOptions" ng-blur="ngBlur()" k-max="maxDate" style="width:100%" k-rebind="maxDate" /><span class="input-group-addon hidden-xs">{{ "l-to" | i18n }}</span><input kendo-date-picker endDate k-ng-model="ngModel.endDate" k-options="endDatePickerOptions" ng-blur="ngBlur()" k-min="minDate" style="width:100%" k-rebind="minDate" />'),m=e.find(".input-group"),m.append(q),m.addClass("no-block"),m.addClass("date"),k=d.$new(),l=m.find("input"),c.pattern(d,f,e,k,g,l),c.ngDisabled(d,f,e,l),p=function(){var a,b,c,d,i;a=e.find("[startDate]"),b=e.find("[endDate]"),c=a.data("kendoDatePicker"),d=b.data("kendoDatePicker"),i="undefined"===f.canclean?void 0:"null"===f.canclean||""===f.canclean?null:f.canclean,g.$setViewValue(i),k.ngModel=i,g.$render(),c.value(""),d.value(""),h()},c.canclean(f,e,k,l,p),e.find("button").addClass("hidden-xs"),j=e.find(".field-container"),b(j)(k),d.placeholder?(e.find("[startDate]").attr("placeholder",d.placeholder),e.find("[endDate]").attr("placeholder",d.placeholder)):(e.find("[startDate]").attr("placeholder",a.i18n("l-initial-date")),e.find("[endDate]").attr("placeholder",a.i18n("l-final-date"))),f.culture||(f.culture=a.currentuser.dialect),h(),d.initialDateChanged=function(a){var b,c;c=a.value(),a._resetHandler(),a.value(c),n=k.ngModel.startDate,g.$setViewValue(k.ngModel),b=n||new Date(1900,1,1),d.minDate=b,d.ngChange(n)},d.finalDateChanged=function(a){var b,c;c=a.value(),a._resetHandler(),a.value(c),o=k.ngModel.endDate,g.$setViewValue(k.ngModel),b=o||new Date(2100,12,31),d.maxDate=b,d.ngChange(o)},d.endDatePickerOptions={start:f.depth,depth:f.depth,format:d.format,culture:f.culture,month:{content:'<div class=\'#= selectRangeFinalDate(data) ? "k-state-hover" : "" #\'>#= data.value #</div>'},open:function(){var a=this.dateView.calendar;a.wrapper.width(this.wrapper.width()-6)},change:function(){d.finalDateChanged(this)}},d.startDatePickerOptions={start:f.depth,depth:f.depth,format:d.format,culture:f.culture,month:{content:'<div class=\'#= selectRangeInitialDate(data) ? "k-state-hover" : "" #\'>#= data.value #</div>'},open:function(){var a=this.dateView.calendar;a.wrapper.width(this.wrapper.width()-6)},change:function(){d.initialDateChanged(this)}},window.selectRangeInitialDate=function(a){var b=k.ngModel||void 0;return void 0!==b?void 0!==b.startDate&&void 0!==b.endDate?a.date>b.startDate&&a.date<=b.endDate:!1:void 0},window.selectRangeFinalDate=function(a){var b=k.ngModel||void 0;return void 0!==b?void 0!==b.startDate&&void 0!==b.endDate?a.date>=b.startDate&&a.date<b.endDate:!1:void 0},i(),d.$watch("[maxDate, minDate]",function(){i()})}var e={restrict:"A",require:"ngModel",scope:{depth:"@",format:"@",ngBlur:"&",ngChange:"&",culture:"@",ngModel:"=",placeholder:"@"},link:d};return e}angular.module("totvsDateRange").directive("totvsDateRange",a),a.$inject=["$rootScope","$compile","totvsFieldService"]}(),function(){function a(a,b,c){function d(d,e,f,g){var h,i,j,k,l,m;m=angular.element('<input kendo-date-picker k-ng-model="ngModel" k-options="dateSelectorOptions" ng-blur="ngBlur()" placeholder="{{placeholder}}" style="width: 100%" />'),i=e.find(".input-group"),i.append(m),i.addClass("date"),j=d.$new(),k=i.find("input"),c.pattern(d,f,e,j,g,k),c.ngDisabled(d,f,e,k),l=function(){var a,b;switch(a=e.find("[kendo-date-picker]").data("kendoDatePicker"),f.canclean){case"undefined":b=void 0;break;case"":case"null":b=null;break;default:b=f.canclean}g.$setViewValue(b),g.$render(),a.value("")},c.canclean(f,e,j,k,l),h=e.find(".field-container"),b(h)(j),f.culture||(f.culture=a.currentuser.dialect),d.dateSelectorOptions={start:f.depth,depth:f.depth,format:d.format,culture:f.culture,change:function(){g.$setViewValue(this.value())},open:function(){var a=this.dateView.calendar;a.wrapper.width(this.wrapper.width()-6)}},setTimeout(function(){var a,b;a=e.find("[kendo-date-picker]").data("kendoDatePicker"),b=e.find(".k-picker-wrap"),f.$attr.autoOpen&&e.find("input.k-input").focusin(function(){a.open()}),f.$attr.focus&&e.find("input.k-input").focus(),f.$attr.canclean&&(b.css("border-bottom-right-radius","0px"),b.css("border-top-right-radius","0px"))},200)}var e={restrict:"A",require:"ngModel",scope:{depth:"@",format:"@",ngBlur:"&",ngChange:"&",culture:"@",ngModel:"=",placeholder:"@"},link:d};return e}angular.module("totvsDatepicker").directive("totvsDatepicker",a),a.$inject=["$rootScope","$compile","totvsFieldService"]}(),function(){function a(a){function b(b,c){var d;c.html("<div kendo-diagram></div>"),d=c.find("div"),b.options&&d.attr("k-options",b.options),a(d)(b.$parent)}var c={restrict:"E",replace:!0,scope:{options:"@"},link:b};return c}angular.module("totvsDiagram").directive("totvsDiagram",a),a.$inject=["$compile"]}(),function(){function a(){var a={template:'<div class="row"><div class="col-xs-12"><hr class="divider"></hr></div></div>',replace:!0,restrict:"E"};return a}angular.module("totvsDivider").directive("totvsDivider",a),a.$inject=[]}(),function(){function a(a,b,c){function d(d){var e,f,g,h,i,j;return e=angular.element('<a class="inline-edit" ng-click="onClick()">{{ value }}</a>'),f=angular.element('<div class="row" style="margin-bottom: -10px;"></div>'),f.html(angular.copy(d.html())),g=f.find("[ng-model]"),f.append('<div class="actions col-xs-12" style="background-color: #f7f7f7; padding-top: 5px; padding-bottom: 5px; margin-top: 15px; border-top: 1px solid #ebebeb" ng-click="onCancel()"><button type="button" class="btn btn-default pull-right">{{ \'btn-cancel\' | i18n }}</button><button type="button" class="btn btn-primary pull-right" style="margin-right: 10px;" ng-click="onApply()">{{ \'btn-apply\' | i18n }}</button></div>'),f.find("label").length>0?(h=f.find("label").html(),f.find("label").remove()):(h=f.find("field").attr("label"),f.find("field").removeAttr("label"),f.find("label").remove()),f.find("field").attr("ng-keyup","onKeyup($event)"),j=g.attr("ng-model"),g.attr("ng-model","editable.newValue"),i=g.find("ui-select-choices").length>0,d.html(e),function(d,e){a(e.find("a"))(d),d.removeAll=function(){$("totvs-editable").each(function(a,b){$(b).data("bs.popover")&&$(b).popover("destroy")})},d.onKeyup=function(a){if(13===a.keyCode){var b=a.target;b.blur(),a.stopPropagation(),d.onApply()}else 27===a.keyCode&&d.onCancel()},d.onClick=function(){var g=f.clone();i===!0?(d.$parent.editable={newValue:b(j)(d.$parent)},a(g.find("field"))(d.$parent),a(g.find(".actions"))(d)):(d.editable={newValue:b(j)(d.$parent)},a(g)(d)),h&&(h=c(h)(d)),d.removeAll(),$(e).popover({html:!0,title:h,content:g,container:"body",placement:d.placement||"auto bottom"}),$(e).on("shown.bs.popover",function(){var a=g.find("input");a&&a[0].focus()})},d.onApply=function(){var a;a=i===!0?d.$parent.editable:d.editable,void 0!==d.onComplete(d)&&"function"==typeof d.onComplete(d)?d.onComplete(d)(a.newValue,b(j)(d.$parent)):b(j).assign(d.$parent,a.newValue),d.onCancel()},$(".modal").scroll(function(){$(e).popover("destroy")}),$(".container-fluid").scroll(function(){$(e).popover("destroy")}),d.onCancel=function(){$(e).popover("destroy")},d.$on("$destroy",function(){d.removeAll()})}}var e={restrict:"E",scope:{value:"@",placement:"@",onComplete:"&"},compile:d};return e}angular.module("totvsEditable").directive("totvsEditable",a),a.$inject=["$compile","$parse","$interpolate"]}(),function(){function a(a,b){function c(c,d,e){function f(a){a.tScopeField={},a.tScopeField.value=function(b){return b?a.widget.encodedValue():a.widget.value()},a.tScopeField.focus=function(){a.widget.focus()},a.tScopeField.saveAsPDF=function(){return a.widget.saveAsPDF()}}function g(a,b,c){a.$on("kendoWidgetCreated",function(b,d){if(d===a.widget){var e=$(a.widget.body);c.$observe("tReadonly",function(b){b=a.$eval(b),b?e.removeAttr("contenteditable").find("a").on("click.readonly",!1):e.attr("contenteditable",!0).find("a").off("click.readonly")})}})}function h(a){a.removeAttr("tHeight"),a.removeAttr("tMode"),a.removeAttr("tChange"),a.removeAttr("tModel"),a.removeAttr("tReadonly"),a.removeAttr("tPdfExport"),a.removeAttr("tScopeField"),a.removeAttr("tTools"),a.removeAttr("tWidth")}function i(a,b){var e;e=b.tHeight?"Height:"+b.tHeight+";":"height:250px;",e+=b.tWidth?"width:"+b.tWidth:"width:100%",a.attr("style",e),g(c,d,b)}function j(a){var c,d;if(a.tools=a.$eval("tTools"),d=[],a.tTools)for(a.tTools.constructor!==Array&&(a.tTools=[a.tTools]),c=0;c<a.tTools.length;c+=1)-1!==b.ALLOWED_TOOLS.indexOf(a.tTools[c])?d.push(a.tTools[c]):b.TOOL_GROUPS.hasOwnProperty(a.tTools[c])&&(d=d.concat(b.TOOL_GROUPS[a.tTools[c]]));return 0===d.length&&(d=b.TOOL_GROUPS.defaultTools),d}function k(a){a.options={tools:j(a)}}function l(a,b,c){var d;return d=c.tMode&&"inline"===c.tMode,d?b.html('<div kendo-editor="widget" k-ng-model="tModel" k-options="options" k-on-pdf-export="tPdfExport({ e: kendoEvent })" k-on-change="tChange()"></div>'):b.html('<textarea kendo-editor="widget" k-ng-model="tModel" k-options="options" k-on-pdf-export="tPdfExport({ e: kendoEvent })" k-on-change="tChange()"></textarea>'),b.find("[kendo-editor]")}function m(b,c,d){var e;e=l(b,c,d),k(b),i(e,d),h(c),a(e)(b),f(b)}m(c,d,e)}return{restrict:"E",scope:{tHeight:"@",tMode:"@",tChange:"&",tModel:"=",tReadonly:"@",tPdfExport:"&",tScopeField:"=",tTools:"=",tWidth:"@"},link:c}}angular.module("totvsEditor").directive("totvsEditor",a),a.$inject=["$compile","totvsEditorConstants"]}(),function(){function a(a,b){function c(c){var d;return d=c.children("totvs-execution-item").clone()||[],c.html('<div class="row page-execution"><div id="div-execution-navigation" class="col-lg-3 col-md-3 hidden-xs hidden-sm" style="display:none"><nav class="page-execution-navigation"><ul class="list-unstyled"></ul></nav></div><div id="div-execution-content" class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="page-execution-content" id="execution-content"></div></div></div>'),function(c,e){var f,g,h,i,j,k,l,m,n=0,o=!1;f=e.attr("ng-model")||"controller.model",g=e.find("ul"),h=e.find(".page-execution-content"),k=c.requiredFilename===!0||"true"===c.requiredFilename?"required":"",j='<field type="input" class="col-md-12" ng-model="'+f+'.filename" label="{{\'l-output-filename\' | i18n}}" '+k+'></field><totvs-schedule class="col-md-12" ng-model="'+f+'.schedule"  hide-repeat="'+c.hideRepeat+'"></totvs-schedule>',i='<field type="checkbox" class="col-md-6" ng-model="'+f+'.notify" label="{{\'l-send-notification-process-finished\' | i18n}}"></field><field type="checkbox" class="col-md-6" ng-model="'+f+'.notifyEmail" label="{{\'l-send-report-process-finished\' | i18n}}"></field><field type="textarea" class="col-md-12" ng-model="'+f+'.notifyEmailList" label="{{\'l-add-email-recipients\' | i18n}}"></field>',l=function(a,b,c){var d=angular.element("<li></li>");d.attr("du-smooth-scroll","execution-step-"+b),d.attr("du-scrollspy","execution-step-"+b),d.attr("class",1===b?"active":""),d.append(c),a.append(d)},m=function(a,b,c,d){var e=angular.element('<div class="page-execution-'+b+'" id="execution-step-'+b+'"><fieldset><legend>'+c+"</legend><div>"+d+"</div></fieldset></div>");a.append(e)},angular.forEach(d,function(a){var c,d,e="";n+=1,a.attributes.type&&(c=a.attributes.type.value||"common"),"notification"===c?(d=b("i18n")("l-notification-recipients"),e=i):"execution"===c?(o=!0,d=b("i18n")("l-execution"),e=j):d=a.title,a=angular.element(a),l(g,n,d),m(h,n,d,e+a.html())}),o||(l(g,"execution",b("i18n")("l-execution")),m(h,"execution",b("i18n")("l-execution"),j)),a(g)(c.$parent),a(h)(c.$parent)}}var d={restrict:"E",require:"?ngModel",scope:{hideRepeat:"@",requiredFilename:"@"},controller:"TotvsExecutionController",compile:c};return d}angular.module("totvsExecution").directive("totvsExecution",a),a.$inject=["$compile","$filter"]}(),function(){function a(a){function b(b){var c=angular.element('<div class="field-container"><label class="field-label"></label><div class="field-input"><div class="input-group"></div><div class="tooltip bottom"><div class="tooltip-inner"></div><div class="tooltip-arrow"></div></div></div></div>');b.append(c),a(c)}var c={restrict:"E",require:"?ngModel",priority:300,compile:b};return c}angular.module("totvsField").directive("totvsField",a),a.$inject=["$compile"]}(),function(){function a(a){function b(b,c,d){var e,f;b.tLanguage?(f=b.tLanguage.toLowerCase(),e=a[f],f="pt"===f?f+"-BR":f,kendo.culture(f)):(e=a.pt,kendo.culture("pt-BR")),b.$watchCollection("tDataSource",function(a,c){a!==c&&(b.ganttOptions.dataSource=a)}),b.ganttOptions={messages:{actions:{addChild:e.actions.addChild,append:e.actions.append,insertAfter:e.actions.insertAfter,insertBefore:e.actions.insertBefore,pdf:e.actions.pdf},cancel:e.cancel,deleteDependencyConfirmation:e.deleteDependencyConfirmation,deleteDependencyWindowTitle:e.deleteDependencyWindowTitle,deleteTaskConfirmation:e.deleteTaskConfirmation,deleteTaskWindowTitle:e.deleteTaskWindowTitle,destroy:e.destroy,editor:{assignButton:e.editor.assignButton,title:e.editor.title,editorTitle:e.editor.editorTitle,start:e.editor.start,end:e.editor.end,percentComplete:e.editor.percentComplete,resources:e.editor.resources,resourcesEditorTitle:e.editor.resourcesEditorTitle,resourcesHeader:e.editor.resourcesHeader,unitsHeader:e.editor.unitsHeader},save:e.save,views:{week:e.views.week,month:e.views.month,year:e.views.year,day:e.views.day,start:e.views.start,end:e.views.end}},dataSource:b.tDataSource,dependencies:b.tDependencies,resources:{dataSource:b.tResources},assignments:{dataSource:b.tAssignments},views:b.tViews,columns:b.tColumns,toolbar:b.tToolbar,pdf:{fileName:b.tPdfName||"Totvs Gantt"},add:b.tAdd,save:b.tSave,remove:b.tRemove,edit:b.tEdit,change:b.tClick,cancel:b.tCancel,moveEnd:b.tMoveEnd}}var c={template:'<kendo-gantt k-options="ganttOptions" k-rebind="ganttOptions"></kendo-gantt>',
restrict:"E",scope:{tDataSource:"=",tDependencies:"=",tResources:"=",tAssignments:"=",tColumns:"=",tViews:"=",tToolbar:"=",tPdfName:"@",tAdd:"&",tRemove:"&",tClick:"&",tEdit:"&",tCancel:"&",tSave:"&",tMoveEnd:"&",tLanguage:"@"},link:b};return c}angular.module("totvsGantt").directive("totvsGantt",a),a.$inject=["totvsGanttConstant"]}(),function(){function a(a,b,c){function d(d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;d.gridOptions||(d.gridOptions={}),d.gridHeight?d.gridHeight.indexOf("%")>0||d.gridHeight.indexOf("px")>0?e.children().get(0).style.height=d.gridHeight:e.children().get(0).style.height=d.gridHeight+"px":c.isFluig&&(e.children().get(0).style.height="250px"),d.$watchCollection("gridOptions.rowData",function(a){a&&d.gridOptions.api.onNewRows()}),d.$on("$destroy",function(){d.gridOptions=void 0}),angular.element(b).bind("orientationchange",function(){a(d.resize,500)}),d.resize=function(){d.gridOptions&&d.gridOptions.api.columnController.getTotalColWidth()<d.gridOptions.api.gridPanel.getWidthForSizeColsToFit()&&d.gridOptions.api.sizeColumnsToFit()},f.$attr.addSelectColumn&&(d.gridOptions.columnDefs||(d.gridOptions.columnDefs=[]),s=!0,d.gridOptions.columnDefs.length>0&&(d.gridOptions.columnDefs[0].pinned!==!0||" "!==d.gridOptions.columnDefs[0].headerName&&"#"!==d.gridOptions.columnDefs[0].headerName||d.gridOptions.columnDefs[0].checkboxSelection!==!0||(s=!1)),s&&(d.gridOptions.columnDefs.unshift({headerName:" ",pinned:!0,width:30,minWidth:30,maxWidth:30,checkboxSelection:!0}),d.gridOptions.pinnedColumnCount>0?d.gridOptions.pinnedColumnCount++:d.gridOptions.pinnedColumnCount=1,d.gridOptions.columnApi&&d.gridOptions.columnApi.setPinnedColumnCount(d.gridOptions.pinnedColumnCount),d.gridOptions.api&&d.gridOptions.api.onNewCols())),t=angular.copy(d.gridOptions.selectionChanged),d.gridOptions.selectionChanged=function(){for(g=0;g<d.gridOptions.rowData.length;g++)d.gridOptions.rowData[g].$selected=!1;for(h=0;h<d.gridOptions.selectedRows.length;h++)d.gridOptions.selectedRows[h].$selected=!0;angular.isFunction(t)&&t()},c.isFluig?v=!1:(v=!0,f.$attr.autoResizeContent&&("false"===f.autoResizeContent.toLowerCase()||f.autoResizeContent===!1)&&(v=!1)),v&&(n=e.parents("div.page-wrapper"),m=n.find("> div.page-content"),i=n.find("> div.page-fixed"),n.css("height","100%"),j=Math.floor(100-100*(i.outerHeight(!0)+25)/n.height()),m.css("height",j+"%"),p=function(){l=m.find("div.more-results"),q=l.find("> a").outerHeight(!0),r=m.find(".page-content-header").outerHeight(!0),(void 0===r||null===r)&&(r=0),k=l.length>0?7:-2,o=Math.floor(100-100*(q+r+k)/m.height()),e.css("height",o+"%"),e.find("> div.ag-fresh").css("height",o+"%")},a(function(){p(),m.find("div.more-results").bind("click",function(){0===$("div.more-results").length&&p()})},500)),u=!1,f.$attr.autoResizeColumn&&("true"===f.autoResizeColumn.toLowerCase()||f.autoResizeColumn===!0)&&(u=!0),u&&a(d.resize)}var e={template:'<div ag-grid="gridOptions" class="ag-fresh" style="height: 100%;"></div>',restrict:"E",replace:!1,scope:{gridOptions:"=",gridHeight:"@"},link:d};return e}angular.module("totvsGrid").directive("totvsGrid",a),a.$inject=["$timeout","$window","$rootScope"]}(),function(){function a(){function a(a,b){return b.initOpen!==!0&&$(a).find(".content").css("display","none"),function(a,b){a.toggleContent=function(){var c=$(b).find(".content");c.slideToggle(),c.toggleClass("open"),a.isOpen=c.hasClass("open")}}}var b={template:'<div class="row group-content"><div class="col-xs-12"><h6 class="clickable"><a ng-click="toggleContent();"><span style="opacity:.8;">{{ isOpen !== true ? "&#9658;" : "&#9660;" }} </span>&nbsp;{{title}}</a></h6></div><span class="content col-xs-12" ng-transclude></span></div>',restrict:"E",transclude:!0,replace:!0,scope:{title:"@"},compile:a};return b}angular.module("totvsGroupContent").directive("totvsGroupContent",a),a.$inject=[]}(),function(){function a(a){function b(b,c){var d,e,f;void 0!==b.selected&&(e="select-"+(b.selected.$$hashKey||Math.random()),d=b.selected.$selected===!0?"checked":"",f='<span class="pull-left" style="width: 40px; margin-top: 15px"><span class="clickable input-check" ng-if="selected"><input id="'+e+'" type="checkbox" ng-click="onClickSelect()" '+d+'><label for="'+e+'"></label></span></span>',c.children(".item-container").prepend(angular.element(f)),c.find(".item-content").addClass("item-content-selected"),c.find(".item-content").css("width","calc(100% - 40px)"),b.onClickSelect=function(){b.selected.$selected=void 0===b.selected.$selected?!0:!b.selected.$selected},a(c.find(".input-check"))(b))}var c={template:'<div class="list-item"><div class="item-container"><span class="pull-left item-content" ng-transclude></span><div class="clearfix"></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:{selected:"="},link:b};return c}angular.module("totvsListItem").directive("totvsListItem",a),a.$inject=["$compile"]}(),function(){function a(){function a(a,b){var c,d,e,f,g,h,i,j,k,l="",m="",n="",o="";if(e=a.children("action").clone()||[],b.$attr["class"]?(b["class"].indexOf("col-xs")<0&&(l+=" col-xs-2"),b["class"].indexOf("col-sm")<0&&(l+=" col-sm-5"),b["class"].indexOf("col-md")<0&&(l+=" col-md-5"),b["class"].indexOf("col-lg")<0&&(l+=" col-lg-5"),a.removeAttr("class"),l+=" "+b["class"]):l+="col-lg-5 col-md-5 col-sm-5 col-xs-2",a.html('<div class="'+l+' actions-group"><div class="btn-group btn-group-sm actions pull-right" role="group" aria-label="item-actions"></div></div>'),i=function(a,b,c){var d,e,f,g;d=b.attr("class"),e=b.attr("icon"),f=b.attr("link"),g=b.attr("ng-click"),f?a.attr("href",f):g&&(a.addClass("clickable"),a.attr("ng-click",g)),d&&a.addClass(d),e&&c&&a.children(".glyphicon").addClass(e),c?a.append("&nbsp;&nbsp;"+b.text()):a.append(b.text()),angular.forEach($(b).get(0).attributes,function(b){"link"!==b.name&&"class"!==b.name&&"ng-click"!==b.name&&"icon"!==b.name&&a.attr(b.name,b.value)})},1===e.length)g=angular.element('<a role="button" class="btn btn-default"><span class="glyphicon hidden-xs"></span></a>'),i(g,angular.element(e[0]),!0),a.find(".actions").append(g);else{for(f=angular.element('<div class="btn-group btn-group-sm pull-right" role="group"><a class="btn btn-default dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><span>{{\'btn-actions\'|i18n}}&nbsp;&nbsp;</span><span class="hidden-xs glyphicon glyphicon-triangle-bottom"></span></a><ul class="dropdown-menu dropdown-menu-right" role="menu"></ul></div>'),angular.isUndefined(b.limitPrimaryAction)&&(b.limitPrimaryAction=2),b.limitPrimaryAction=parseInt(b.limitPrimaryAction,10),j=f.find("ul"),k=b.limitPrimaryAction+1>=e.length,c=0;c<e.length;c++)d=angular.element(e[c]),g=angular.element('<a role="button" class="btn btn-default hidden-xs"><span class="glyphicon"></span></a>'),(k||c<b.limitPrimaryAction)&&(i(g,d,!0),a.find(".actions").append(g)),h=angular.element("<li><a></a></li>"),i(h.children("a"),d,!1),h.children("a").removeClass(d.attr("class")),c<b.limitPrimaryAction?h.addClass("visible-xs"):(d.attr("ng-if")?m.length>0?m+=" || ("+d.attr("ng-if")+")":m="("+d.attr("ng-if")+")":m="(true)",d.attr("ng-show")?n.length>0?n+=" || ("+d.attr("ng-show")+")":n="("+d.attr("ng-show")+")":n="(true)",d.attr("ng-hide")?o.length>0?o+=" || ("+d.attr("ng-hide")+")":o="("+d.attr("ng-hide")+")":o="(false)"),j.append(h);m&&m.length>0&&f.attr("ng-if",m),n&&n.length>0&&f.attr("ng-show",n),o&&o.length>0&&f.attr("ng-hide",o),k&&f.addClass("visible-xs"),a.find(".actions-group > .actions").append(f)}}var b={restrict:"E",compile:a};return b}angular.module("totvsListItemAction").directive("totvsListItemAction",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="item-info"><div class="row" ng-transclude></div></div>',restrict:"E",replace:!0,transclude:!0};return a}angular.module("totvsListItemContent").directive("totvsListItemContent",a),a.$inject=[]}(),function(){function a(){function a(a,b){a.showDetail=function(){var c=b.children(".item-details");c.slideToggle(),c.toggleClass("open"),a.isOpen=c.hasClass("open"),a.isOpen&&"function"==typeof a.open&&a.open()}}var b={template:'<div><div class="item-details" style="display: none;"><div class="row" ng-transclude></div></div><div class="row info-more text-center"><a class="clickable" ng-click="showDetail();"><span style="opacity:.8;">{{ isOpen ? "&#9650;" : "&#9660;"}}&nbsp;{{ (isOpen ? "close-info-more" : "open-info-more") | i18n }}</span></a></div></div>',restrict:"E",replace:!0,transclude:!0,scope:{open:"&"},link:a};return b}angular.module("totvsListItemContentDetail").directive("totvsListItemContentDetail",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="item-actions"><div class="row" ng-transclude></div></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsListItemHeader").directive("totvsListItemHeader",a),a.$inject=[]}(),function(){function a(){function a(a,b){if(b.$attr["class"]?a.addClass("col-xs-12"):a.addClass("col-xs-12 col-sm-6 col-md-6 col-lg-6"),b.hasOwnProperty("valueBreak")){var c=b.valueBreak.toLowerCase();("false"===c||c===!1)&&(a.find("div.item-field").addClass("overflow-text-ellipsis"),a.find("div.item-field > span + span").attr("tooltip","{{value}}"))}}var b={template:'<div><div class="item-field"><label ng-if="title">{{title}}:</label><span ng-if="!value" ng-transclude></span><span ng-if="value">{{value}}</span></div></div>',restrict:"E",replace:!0,transclude:!0,scope:{title:"@",value:"@"},compile:a};return b}angular.module("totvsListItemInfo").directive("totvsListItemInfo",a),a.$inject=[]}(),function(){function a(){function a(a,b){return b.$attr["class"]?(b["class"].indexOf("col-xs")<0&&a.addClass("col-xs-10"),b["class"].indexOf("col-sm")<0&&a.addClass("col-sm-7"),b["class"].indexOf("col-md")<0&&a.addClass("col-md-7"),b["class"].indexOf("col-lg")<0&&a.addClass("col-lg-7")):a.addClass("col-xs-10 col-sm-7 col-md-7 col-lg-7"),function(a,b){a.link&&b.find("a").attr("href",a.link),b.find("a").attr("ng-if",a.title)}}var b={template:'<div><a class="title link">{{title}}</a><span class="title" ng-transclude></span></div>',restrict:"E",transclude:!0,replace:!0,scope:{link:"@",title:"@"},compile:a};return b}angular.module("totvsListItemTitle").directive("totvsListItemTitle",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="more-results"><a class="btn btn-primary col-xs-12">{{ \'l-more-results\' | i18n }}</a></div>',restrict:"E",replace:!0,transclude:!0};return a}angular.module("totvsListPagination").directive("totvsListPagination",a),a.$inject=[]}(),function(){function a(a){function b(b){b.captchaImage="assets/img/loading-bar.gif",b.disableCode=!0,b.disableRecaptcha=!0,b.executeService=function(b,c){a.getGeneric(b,c)},b.recaptcha=function(){var a={};b.disableCode=!0,b.disableRecaptcha=!0;try{b.captchaImage="assets/img/loading-bar.gif",b.totvsMashupCaptchaResult={},b.totvsMashupCaptchaParams&&(a=angular.copy(b.totvsMashupCaptchaParams)),a.method=b.totvsMashupCaptchaService,b.executeService(a,function(a){a.Captcha?("data:image/png;base64,"!==a.Captcha.substring(0,22)&&(a.Captcha="data:image/png;base64,"+a.Captcha),b.captchaImage=a.Captcha,b.totvsMashupCaptchaResult.code="",b.totvsMashupCaptchaResult.id=a.ServiceExecutionId,b.disableCode=!1):b.captchaImage="assets/img/error404.png",b.disableRecaptcha=!1})}catch(c){b.captchaImage="assets/img/error404.png",b.disableRecaptcha=!1}},b.recaptcha()}var c={template:'<div class="captcha-box"><div class="captcha-img"><img alt="Embedded Image" src="{{captchaImage}}" /></div><div class="input-group"><input class="form-control" placeholder="{{ \'l-type-your-text-here\' | i18n }}" type="text" ng-model="totvsMashupCaptchaResult.code" ng-disabled="disableCode" /><span class="input-group-btn"><button type="button" class="btn btn-default btn-md" ng-click="recaptcha()" ng-disabled="disableRecaptcha"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span></button></span></div></div>',restrict:"E",replace:!0,scope:{totvsMashupCaptchaService:"@",totvsMashupCaptchaParams:"=",totvsMashupCaptchaResult:"="},link:b};return c}angular.module("totvsMashupCaptcha").directive("totvsMashupCaptcha",a),a.$inject=["TotvsMashup"]}(),function(){function a(){var a={template:'<div class="modal-body page-content" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsModalBody").directive("totvsModalBody",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="modal-footer" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsModalFooter").directive("totvsModalFooter",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="modal-header"><div class="modal-title"><h3 ng-transclude></h3></div></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsModalHeader").directive("totvsModalHeader",a),a.$inject=[]}(),function(){function a(){function a(a,b){var c,d="",e="";b.type||(b.type="base",e='type="base" '),"execution"===b.type&&(d="du-scroll-container");for(c in b.$attr)b.$attr.hasOwnProperty(c)&&(e+=c+'="'+b[c]+'" ');a.html('<div class="totvs-style-guide page-wrapper container-fluid ng-cloak" '+e+d+" ng-transclude></div>")}var b={restrict:"E",transclude:!0,replace:!0,compile:a};return b}angular.module("totvsPage").directive("totvsPage",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="alert alert-{{type}}"><h5>{{message}}</h5><span ng-transclude></span></div>',restrict:"E",transclude:!0,replace:!0,scope:{type:"@",message:"@"}};return a}angular.module("totvsPageAlert").directive("totvsPageAlert",a),a.$inject=[]}(),function(){function a(a,b,c){function d(b){var d;return d=b.children("breadcrumb").clone()||[],c.isFluig&&d.splice(0,1),b.html('<div class="page-navbar"><div class="row"><div class="col-xs-12"><ol class="breadcrumb"></ol></div></div></div>'),function(b,c){var e,f,g,h,i,j,k;for(f=c.find(".breadcrumb"),e=0;e<d.length;e++)d[e]=angular.element(d[e]),g=d[e].html(),h=d[e].attr("link"),i=d[e].attr("ng-click"),j=angular.element("<li></li>"),h||i?(j.append(angular.element("<a></a>")),k=j.find("a"),k.html(g),h?k.attr("href",h):i&&(k.attr("ng-click",i),k.addClass("clickable"))):e+1===d.length?j.html(g):j.html(g),f.append(j);a(f.parents(".page-navbar"))(b.$parent)}}var e={restrict:"E",compile:d};return e}angular.module("totvsPageBreadcrumb").directive("totvsPageBreadcrumb",a),a.$inject=["$compile","$injector","$rootScope"]}(),function(){function a(){var a={template:'<div class="row page-wrapper-child container-fluid ng-cloak" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsPageChild").directive("totvsPageChild",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="page-content" ng-transclude></div>',replace:!0,transclude:!0,restrict:"E"};return a}angular.module("totvsPageContent").directive("totvsPageContent",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="page-content-header"><span ng-transclude></span><div class="clearfix"></div></div>',restrict:"E",replace:!0,transclude:!0};return a}angular.module("totvsPageContentHeader").directive("totvsPageContentHeader",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="page-details"><div class="row" ng-transclude></div></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsPageDetail").directive("totvsPageDetail",a),a.$inject=[]}(),function(){function a(){function a(a,b){b.$attr["class"]?a.addClass("col-xs-12"):a.addClass("col-xs-12 col-sm-6 col-md-6 col-lg-6")}var b={template:'<div class="detail-field"><div class="field-label">{{ title }}</div><div class="field-value"><span ng-if="!value" ng-transclude></span><span ng-if="value">{{value}}</span></div></div>',restrict:"E",transclude:!0,replace:!0,scope:{"class":"@",title:"@",value:"@"},compile:a};return b}angular.module("totvsPageDetailInfo").directive("totvsPageDetailInfo",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="page-details-infogroup"><div class="col-xs-12"><h4 ng-transclude></h4><hr></div></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsPageDetailInfoGroup").directive("totvsPageDetailInfoGroup",a),a.$inject=[]}(),function(){function a(a,b){function c(c){return c.html('<div class="row hidden-xs"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12"><div class="page-disclaimers"><h5></h5></div></div></div>'),c.removeAttr("ng-click"),function(c,d){var e,f;c.disclaimerList=c.disclaimerList||[],e=d.find("h5"),e.append(b("<span ng-if=\"disclaimerList.length > 0\">{{ 'l-filter-by' | i18n }}: </span>")(c)),f=angular.element('<span ng-repeat="disclaimer in disclaimerList track by $index" ng-if="disclaimer.hide !== true" class="label label-default" ng-click="onRemove(disclaimer)" tooltip="{{disclaimer.tooltip}}" ng-class="(ngClick && disclaimer.fixed != true) ? \'clickable\' : \'\'"><span>{{ disclaimer.title }}</span><i class="glyphicon glyphicon-remove" ng-if="(ngClick && disclaimer.fixed != true)"></i></span>'),c.onRemove=function(a){a.fixed!==!0&&c.ngClick(c)(a)},e.append(f),a(e)(c)}}var d={restrict:"E",scope:{disclaimerList:"=",ngClick:"&"},compile:c};return d}angular.module("totvsPageDisclaimers").directive("totvsPageDisclaimers",a),a.$inject=["$compile","$interpolate"]}(),function(){function a(){var a={template:'<div class="page-form"><form class="form-horizontal row" ng-transclude></form></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsPageForm").directive("totvsPageForm",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="page-head" ng-transclude></div>',restrict:"E",replace:!0,transclude:!0};return a}angular.module("totvsPageHeader").directive("totvsPageHeader",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="row" ng-transclude></div>',restrict:"E",replace:!0,transclude:!0};return a}angular.module("totvsPageHeaderOperation").directive("totvsPageHeaderOperation",a),a.$inject=[]}(),function(){function a(a){function c(b){var c,d,e,f,g,h;return c=b.children("action").clone()||[],d=b.attr("on-edit-link"),e=b.attr("on-back-link"),f=b.attr("on-save-link"),b.html('<div class="col-lg-7 col-md-7 col-sm-7 col-xs-12"><div class="operations"></div></div>'),g=angular.element('<div class="btn-group" role="group"><a class="btn btn-default dropdown-toggle" data-toggle="dropdown" role="button"><span>{{\'btn-actions\'|i18n}}&nbsp;&nbsp;</span><span class="glyphicon glyphicon-triangle-bottom hidden-xs"></span></a><ul class="dropdown-menu dropdown-menu-right" role="menu"></ul></div>'),h=function(a,b,c){var d,e,f,g,h;d=b.attr("class"),e=b.attr("icon"),f=b.attr("link"),g=b.attr("ng-click"),h=b.text(),f?a.attr("href",f):g&&(a.addClass("clickable"),a.attr("ng-click",g)),d&&a.addClass(d),c&&a.children(".glyphicon").addClass(e),c?a.children(".hidden-xs").append("&nbsp;&nbsp;"+h):a.append(h),angular.forEach($(b).get(0).attributes,function(b){"link"!==b.name&&"class"!==b.name&&"ng-click"!==b.name&&"icon"!==b.name&&a.attr(b.name,b.value)})},function(b,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E;if(l=i.parents("div.page-wrapper-child"),(null===l||void 0===l||l.length<1)&&(l=i.parents("div.page-wrapper")),angular.isUndefined(j.limitPrimaryAction)&&("true"===l.attr("local")||l.attr("local")===!0?j.limitPrimaryAction=4:j.limitPrimaryAction=3),j.limitPrimaryAction=parseInt(j.limitPrimaryAction,10),j.limitPrimaryAction<1&&(j.limitPrimaryAction=1),"list"===l.attr("type")){for(m=j.limitPrimaryAction+1,n=m===c.length,k=0;k<c.length;k++)o=angular.element(c[k]),p=angular.element('<a class="btn" role="button"><span class="glyphicon"></span><span class="hidden-xs"></span></a>'),q=g.find("ul"),q.removeClass("dropdown-menu-right"),n||k<j.limitPrimaryAction?(0===k?p.addClass("btn-primary"):p.addClass("btn-default"),h(p,o,!0,b),i.find(".operations").append(p)):(r=angular.element("<li><a></a></li>"),h(r.children("a"),o,!1,b),k<j.limitPrimaryAction&&r.addClass("visible-xs"),q.append(r));q&&q.find("li").length>0&&i.find(".operations").append(g),a(i.find(".operations"))(b.$parent),s=b.items(),t=b.itemsAs||"item",b.$watch(function(){var a=0;if(void 0===s||null===s)return a;for(k=0;k<s.length;k++)s[k].$selected&&a++;return a},function(){if(void 0!==s&&null!==s){b[t]=void 0;var a=0;for(k=0;k<s.length;k++)if(s[k].$selected&&(a++,b[t]=s[k],a>1)){b[t]=void 0;break}}})}else if("detail"===l.attr("type")){for(m=j.limitPrimaryAction,("true"===l.attr("local")||l.attr("local")===!0)&&(j.hideBack=!0),q=g.find("ul"),u=angular.element('<div class="col-xs-12"><div class="operations page-detail-actions"></div></div>'),v=u.find(".operations"),D=0,"true"===l.attr("local")?(D++,m>=D?(z=angular.element('<a class="btn btn-primary" role="button">{{\'btn-save\' | i18n}}</a>'),v.append(z)):(z=angular.element("<li><a class=\"clickable\">{{'btn-save'|i18n}}</a></li>"),q.append(z)),D++,m>=D?(B=angular.element('<a class="btn btn-default" role="button">{{\'btn-cancel\' | i18n}}</a>'),v.append(B)):(B=angular.element("<li><a class=\"clickable\">{{'btn-cancel'|i18n}}</a></li>"),q.append(B))):(j.hideBack!==!0&&"true"!==j.hideBack&&D++,m>=D?(w=angular.element('<a class="btn" role="button">{{\'btn-back\' | i18n}}</a>'),"true"!==l.attr("local")&&j.hideBack!==!0&&"true"!==j.hideBack?w.addClass("btn-primary"):w.addClass("btn-default"),v.append(w)):(w=angular.element("<li><a class=\"clickable\">{{'btn-back'|i18n}}</a></li>"),q.append(w))),j.hideEdit!==!0&&"true"!==j.hideEdit&&D++,m>=D?(x=angular.element('<a class="btn" role="button"><span class="glyphicon glyphicon-pencil"></span><span class="hidden-xs">&nbsp;&nbsp;{{\'btn-edit\'|i18n}}</span></a>'),"true"===l.attr("local")||j.hideEdit===!0||"true"===j.hideEdit||j.hideBack!==!0&&"true"!==j.hideBack?x.addClass("btn-default"):x.addClass("btn-primary"),v.append(x)):(x=angular.element("<li><a class=\"clickable\">{{'btn-edit'|i18n}}</a></li>"),q.append(x)),j.hideRemove!==!0&&"true"!==j.hideRemove&&D++,m>=D?(y=angular.element('<a class="btn btn-default" role="button"><span class="glyphicon glyphicon-trash"></span><span class="hidden-xs">&nbsp;&nbsp;{{\'btn-remove\'|i18n}}</span></a>'),"true"===l.attr("local")||j.hideRemove===!0||"true"===j.hideRemove||j.hideEdit!==!0&&"true"!==j.hideEdit||j.hideBack!==!0&&"true"!==j.hideBack?y.addClass("btn-default"):y.addClass("btn-primary"),v.append(y)):(y=angular.element("<li><a class=\"clickable\">{{'btn-remove'|i18n}}</a></li>"),q.append(y)),b.$watch("hideBack",function(a){a===!0||"true"===a?w.css("display","none"):w.css("display","")}),"true"===l.attr("local")?(angular.isFunction(b.onSave())?(z.attr("ng-click","callOnSave();"),b.callOnSave=function(){b.onSave()()},a(z)(b)):angular.isString(f)?(z.attr("href",f),a(z)(b.$parent)):(z.attr("ng-click","controller.save();"),a(z)(b.$parent)),angular.isFunction(b.onCancel())?(B.attr("ng-click","callOnBack();"),b.callOnBack=function(){b.onBack()()},a(B)(b)):angular.isString(e)?(B.attr("href",e),a(B)(b.$parent)):(B.attr("ng-click","controller.back();"),a(B)(b.$parent))):angular.isFunction(b.onBack())?(w.attr("ng-click","callOnBack();"),b.callOnBack=function(){b.onBack()()},a(w)(b)):angular.isString(e)?(w.attr("href",e),a(w)(b.$parent)):(w.attr("ng-click","controller.back();"),a(w)(b.$parent)),b.$watch("hideEdit",function(a){a===!0||"true"===a?x.css("display","none"):x.css("display","")}),angular.isFunction(b.onEdit())?(x.attr("ng-click","callOnEdit();"),b.callOnEdit=function(){b.onEdit()()},a(x)(b)):angular.isString(d)?(x.attr("href",d),a(x)(b.$parent)):(x.attr("ng-click","controller.edit();"),a(x)(b.$parent)),b.$watch("hideRemove",function(a){a===!0||"true"===a?y.css("display","none"):y.css("display","")}),angular.isFunction(b.onRemove())?(y.attr("ng-click","callOnRemove();"),b.callOnRemove=function(){b.onRemove()()},a(y)(b)):(y.attr("ng-click","controller.remove();"),a(y)(b.$parent)),b.$watch("hideActions",function(a){a===!0||"true"===a?g.css("display","none"):g.css("display","")}),E=D+c.length,k=0;k<c.length;k++)o=angular.element(c[k]),D++,m>=D||E===m+1?(p=angular.element('<a class="btn" role="button"><span class="glyphicon"></span><span class="hidden-xs"></span></a>'),k+D===1?p.addClass("btn-primary"):p.addClass("btn-default"),h(p,o,!0),v.append(a(p)(b.$parent))):(r=angular.element("<li><a></a></li>"),h(r.children("a"),o,!1),q.append(r));q.find("li").length>0&&(a(g)(b.$parent),v.append(g)),i.html(u)}else if("edit"===l.attr("type"))u=angular.element('<div class="col-xs-12"><div class="operations page-detail-actions"></div></div>'),v=u.find(".operations"),z="true"===l.attr("local")?angular.element("<button class=\"btn btn-primary\">{{'btn-update' | i18n}}</button>"):angular.element("<button class=\"btn btn-primary\">{{'btn-save' | i18n}}</button>"),A="true"===l.attr("local")?angular.element("<button class=\"btn btn-default\">{{'btn-update-new' | i18n}}</button>"):angular.element("<button class=\"btn btn-default\">{{'btn-save-new' | i18n}}</button>"),B=$("<button class=\"btn btn-default\">{{'btn-cancel' | i18n}}</button>"),angular.isFunction(b.onSave())?(z.attr("ng-click","callOnSave();"),b.callOnSave=function(){b.onSave()()},a(z)(b)):(z.attr("ng-click","controller.save();"),a(z)(b.$parent)),angular.isFunction(b.onSaveNew())?(A.attr("ng-click","callOnSaveNew();"),b.callOnSaveNew=function(){b.onSaveNew()()},a(A)(b)):(A.attr("ng-click","controller.saveNew();"),a(A)(b.$parent)),angular.isFunction(b.onCancel())?(B.attr("ng-click","callOnCancel();"),b.callOnCancel=function(){b.onCancel()()},a(B)(b)):(B.attr("ng-click","controller.cancel();"),a(B)(b.$parent)),b.$watch("hideSaveNew",function(a){a===!0||"true"===a?A.css("display","none"):A.css("display","")}),v.append(B),v.append(A),v.append(z),i.html(u);else if("execution"===l.attr("type"))u=angular.element('<div class="col-xs-12"><div class="operations page-detail-actions"></div></div>'),v=u.find(".operations"),C=angular.element("<button class=\"btn btn-primary\">{{'btn-execution' | i18n}}</button>"),B=angular.element("<button class=\"btn btn-default\">{{'btn-cancel' | i18n}}</button>"),angular.isFunction(b.onExec())?(C.attr("ng-click","callOnExec();"),b.callOnExec=function(){b.onExec()()},a(C)(b)):(C.attr("ng-click","controller.exec();"),a(C)(b.$parent)),angular.isFunction(b.onCancel())?(B.attr("ng-click","callOnCancel();"),b.callOnCancel=function(){b.onCancel()()},a(B)(b)):(B.attr("ng-click","controller.cancel();"),a(B)(b.$parent)),v.append(B),v.append(C),i.html(u);else{for(m=j.limitPrimaryAction+1,n=m===c.length,u=angular.element('<div class="col-xs-12"><div class="operations page-detail-actions"></div></div>'),v=u.find(".operations"),k=0;k<c.length;k++)o=angular.element(c[k]),p=angular.element('<a class="btn" role="button"><span class="glyphicon"></span><span class="hidden-xs"></span></a>'),q=g.find("ul"),q.removeClass("dropdown-menu-right"),n||k<j.limitPrimaryAction?(0===k?p.addClass("btn-primary"):p.addClass("btn-default"),h(p,o,!0,b),v.append(p)):(r=angular.element("<li><a></a></li>"),h(r.children("a"),o,!1,b),k<j.limitPrimaryAction&&r.addClass("visible-xs"),q.append(r));q.find("li").length>0&&v.append(g),a(v)(b.$parent),i.html(u)}}}var d={restrict:"E",replace:!0,scope:{onSave:"&",onSaveNew:"&",onCancel:"&",onBack:"&",onEdit:"&",onRemove:"&",onExec:"&",hideBack:"@",hideRemove:"@",hideEdit:"@",hideActions:"@",hideSaveNew:"@",items:"&",itemsAs:"@"},controller:b,compile:c};return d}function b(a){this.scope=a,window.addEventListener("scroll",function(){function a(a,b){var c,d;return c=a.className.split(" "),d=c.indexOf(b),d>=0&&c.splice(d,1),c.join(" ")}function b(a,b){var c=a.className.split(" ");return c.indexOf(b)>=0}var c,d,e,f,g,h,i,j,k=window.pageYOffset||document.documentElement.scrollTop,l=$(".page-head"),m=100,n="70px",o=l[0],p=$("totvs-page-header-operation-filter").length>0,q=!1,r=0===$("#menu-header:visible").length;if(o)if(r&&(m=55,n="40px"),o.shrinkOn||(o.shrinkOn=m),k>o.shrinkOn){for(l.length>1?c=l[1]:(c=o.cloneNode(!0),o.parentElement.appendChild(c)),$(".page-fixed").css("z-index","4"),o.style.position="fixed",o.style.top=n,o.style.left="15px",o.style.right="15px",o.style.zIndex=100,c.style.zIndex=0,f=o.getElementsByTagName("div"),d=0;d<f.length;d++)i=f[d],b(i,"hidden")||(i.className+=" hidden");for(g=o.getElementsByTagName("h2"),d=0;d<g.length;d++){for(i=g[d],i.parentElement.style.paddingLeft="15px";i.parentElement!==o;)i.className=a(i,"hidden"),i.parentElement.outerHTML.indexOf("ng-include")>0&&(q=!0,b(i,"col-md-6")||r||(i.className+=" col-md-6")),i=i.parentElement;i.className=a(i,"hidden"),!(o.children.length>2||p)||q||b(i,"col-md-6")||r||(i.className+=" col-md-6")}for(h=o.getElementsByTagName("totvs-page-header-operation-action"),d=0;d<h.length;d++){for(i=h[d],f=i.getElementsByTagName("div"),r||(i.style.position="absolute",i.style.right="0px",(o.children.length>2||p)&&(i.style.right="10px",i.style.top="-5px",i.parentElement.style.position="absolute",i.parentElement.style.right="0px")),e=0;e<f.length;e++)j=f[e],j.className=a(j,"hidden");for(o.actionClasses||(o.actionClasses=i.children[0].className),b(i.children[0],"col-md-12")||r||(i.children[0].className="col-md-12");i.parentElement!==o;)i.className=a(i,"hidden"),i.parentElement.outerHTML.indexOf("ng-include")>0&&(q=!0,b(i,"col-md-6")||r||(i.className+=" col-md-6")),i=i.parentElement;i.className=a(i,"hidden"),!(o.children.length>2||p)||q||b(i,"col-md-6")||r||(i.className+=" col-md-6")}}else{for(;o.parentElement.contains(l[1]);)o.parentElement.removeChild(l[1]);for($(".page-fixed").css("z-index",""),o.style.position="",o.style.top="",o.style.left="",o.style.right="",o.style.zIndex="",f=o.getElementsByTagName("div"),d=0;d<f.length;d++)i=f[d],i.className=a(i,"hidden");for(g=o.getElementsByTagName("h2"),d=0;d<g.length;d++){for(i=g[d],i.parentElement.style.paddingLeft="";i.parentElement!==o;)i=i.parentElement;i.className=a(i,"col-md-6")}for(h=o.getElementsByTagName("totvs-page-header-operation-action"),d=0;d<h.length;d++){for(i=h[d],o.actionClasses&&(i.children[0].className=o.actionClasses),i.style.position="",i.style.right="",i.style.top="",i.parentElement.style.position="",i.parentElement.style.right="",i.parentElement.style.top="";i.parentElement!==o;)i.className=a(i,"col-md-6"),i=i.parentElement;i.className=a(i,"col-md-6")}}})}angular.module("totvsPageHeaderOperationAction").directive("totvsPageHeaderOperationAction",a),a.$inject=["$compile"],b.$inject=["$scope"]}(),function(){function a(a){function b(b){var c,d,e;return c=b.html(),d='<div class="advanced-search"><a ng-click="callAdvancedSearch()" class="clickable advanced-search">{{ \'btn-advanced-search\' | i18n }}</a></div>',e='<form><div class="input-group pull-right"><input type="text" class="form-control"><span class="input-group-btn"><button class="btn btn-default" type="button" ng-click="callCleanSearch()"><span class="glyphicon glyphicon-remove"></span></button><button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-filter" aria-hidden="true"></span></button></span></div></form>',b.html('<div class="col-lg-5 col-md-5 col-sm-5 col-xs-12"><div class="filters"><div class="search-field"></div></div></div>'),function(b,f){var g;angular.isFunction(b.advancedSearch())&&(b.callAdvancedSearch=function(){b.advancedSearch()()},f.find("div.filters").append(d),a(f.find("div.advanced-search"))(b)),b.ngModel?(f.find(".search-field").prepend(e),f.find("input").attr("ng-model",b.ngModel),f.find("input").attr("placeholder",b.placeholder),g=f.find("input").controller("ngModel"),b.callCleanSearch=function(){g.$setViewValue(void 0),f.find("input").focus(),angular.isFunction(b.cleanSearch())&&b.cleanSearch()()},a(f.find("button")[0])(b),a(f.find("input"))(b.$parent),a(f.find(".search-field"))(b.$parent)):c&&(f.find(".search-field").html(c),a(f.find(".search-field"))(b.$parent))}}var c={restrict:"E",replace:!0,scope:{advancedSearch:"&",cleanSearch:"&",placeholder:"@",ngModel:"@"},compile:b};return c}angular.module("totvsPageHeaderOperationFilter").directive("totvsPageHeaderOperationFilter",a),
a.$inject=["$compile"]}(),function(){function a(a){function b(){return function(b,c,d){var e,f,g,h;e=c.parents("div.page-wrapper-child"),(null===e||void 0===e||e.length<1)&&(e=c.parents("div.page-wrapper")),"list"===e.attr("type")&&(f=null!==d.settings&&void 0!==d.settings,f&&(h=c.find(".col-xs-12"),h.removeClass(".col-xs-12"),h.addClass("col-xs-10 col-lg-10 col-md-10 col-sm-10"),g=a('<div class="col-xs-2 col-lg-2 col-md-2 col-sm-2"><div class="settings"><h3><a class="clickable" ng-click="settings()"><span class="glyphicon glyphicon-cog"></span></a></h3></div></div>')(b),c.append(g)))}}var c={template:'<div class="row"><div class="col-xs-12"><h2 class="title" ng-if="!title" ng-transclude></h2><h2 class="title" ng-if="title">{{title}}<span ng-if="total">&nbsp;({{total}})</span><span ng-if="!title">&nbsp;{{placeholder}}</span></h2></div></div>',restrict:"E",replace:!0,transclude:!0,scope:{title:"@",total:"@",placeholder:"@",settings:"&"},compile:b};return c}angular.module("totvsPageHeaderTitle").directive("totvsPageHeaderTitle",a),a.$inject=["$compile"]}(),function(){function a(){var a={template:'<div class="page-fixed" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsPageNavbar").directive("totvsPageNavbar",a),a.$inject=[]}(),function(){function a(a){function b(b,c){var d,e,f,g,h;return h=c.hasOwnProperty("orderbySelected")&&void 0!==c.orderbySelected&&c.orderbySelected.trim().length>0?!0:!1,b.html('<div class="quick-filters pull-right"><ul class="list-inline"></ul></div><div class="clearfix"></div>'),b.removeAttr("ng-click"),d=angular.element('<li ng-repeat="filter in filtersList" class="hidden-xs"><a role="button" class="clickable" ng-click="onClick(filter);">{{ filter.title }}</a></li>'),e=angular.element('<li class="dropdown visible-xs"><div class="btn-group"><a role="button" class="btn btn-default btn-sm">{{ \'l-filter\' | i18n }}</a><a role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a><ul class="dropdown-menu dropdown-menu-right"><li ng-repeat="filter in filtersList"><a role="button" class="clickable" ng-click="onClick(filter)">{{ filter.title }}</a></li></ul><div></li>'),f=angular.element('<li class="dropdown custom-filters" ng-if="filtersListCustom !== undefined"><div class="btn-group"><a role="button" class="btn btn-default btn-sm">{{ \'l-more-filters\' | i18n }}</a><a role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a><ul class="dropdown-menu dropdown-menu-right"><li style="padding: 5px" class="row no-gutters"><div class="input-group pull-right"><input class="form-control input-sm" type="text" ng-model="filterCustomText" placeholder="{{ \'l-filter\' | i18n }}"><span class="input-group-btn"><a role="button" class="btn btn-primary btn-sm" ng-click="onCustomAddEdit($event)"><span class="glyphicon glyphicon-plus"></span></a></span></div></li><li role="separator" class="divider"></li><li ng-repeat="custom in filtersListCustom | filter: filterCustomText track by $index"><div class="col-xs-9 title"><a class="clickable" ng-click="onClick(custom);">{{ custom.title }}</a></div><div class="pull-right"><a role="button" class="clickable" ng-click="onCustomAddEdit(custom);"><span class="glyphicon glyphicon-pencil"></span></a> &nbsp;&nbsp;<a role="button" class="clickable" ng-click="onCustomRemove(custom);"><span class="glyphicon glyphicon-trash"></span></a></div></li></ul></div></li>'),g=angular.element('<li class="dropdown"><div class="btn-group"><a role="button" class="btn btn-default btn-sm">{{ (orderby ? orderby.title : (\'l-orderby\' | i18n)) }}</a><a role="button" class="btn btn-default btn-sm" ng-if="orderby" ng-click="onClickSort(orderby)"><span class="glyphicon" ng-class="orderby.asc === true ? \'glyphicon-sort-by-attributes\' : \'glyphicon-sort-by-attributes-alt\'"></span></a><a role="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a><ul class="dropdown-menu dropdown-menu-right"><li ng-repeat="order in orderbyList"><a role="button" class="clickable" ng-click="onOrderbySelect(order)">{{ order.title }}</a></li></ul></div></li>'),function(b,c){var i;i=c.find("ul.list-inline"),b.filtersList&&(i.append(d),i.append(e)),b.onClick=function(a){b.filterCustomText=void 0,angular.isFunction(b.onSelectFilter(b))&&b.onSelectFilter(b)(a)},b.filtersListCustom&&(i.append(f),b.onCustomAddEdit=function(a){b.filterCustomText=void 0,angular.isFunction(b.onAddEditCustom(b))&&b.onAddEditCustom(b)(a)},b.onCustomRemove=function(a){a||(a={name:b.filterCustomText}),b.filterCustomText=void 0,angular.isFunction(b.onRemoveCustom(b))&&b.onRemoveCustom(b)(a)}),b.orderbyList&&(i.append(g),b.onOrderbySelect=function(a){b.orderby&&b.orderby.property===a.property||(a.hasOwnProperty("asc")||(a.asc=!0),b.orderby=angular.copy(a)),h&&(b.orderbySelected=angular.copy(a)),angular.isFunction(b.onSelectOrderby(b))&&b.onSelectOrderby(b)(b.orderby)},b.onClickSort=function(a){a&&(a.asc=!a.asc,b.onOrderbySelect(a))},b.$watchCollection("orderbyList",function(){var a;if(b.orderby=void 0,h&&(b.orderbySelected=b.orderby),b.orderbyList)for(a=0;a<b.orderbyList.length;a++)if(b.orderbyList[a]["default"]===!0){b.orderby=b.orderbyList[a],h&&(b.orderbySelected=b.orderby);break}})),a(i)(b)}}var c={restrict:"E",scope:{filtersList:"=",filtersListCustom:"=",orderbyList:"=",onSelectFilter:"&",onAddEditCustom:"&",onRemoveCustom:"&",onSelectOrderby:"&",orderbySelected:"="},compile:b};return c}angular.module("totvsPageQuickFilter").directive("totvsPageQuickFilter",a),a.$inject=["$compile"]}(),function(){function a(){function a(a){return a.removeAttr("ng-click"),function(a){var b,c;c=function(){var b;if(a.isSelected=!1,void 0!==a.list&&null!==a.list&&a.list.length>0)for(a.isSelected=!0,b=0;b<a.list.length;b++)if(a.list[b].$selected!==!0){a.isSelected=!1;break}$(".quick-select > .input-check > input[type=checkbox]").prop("checked",a.isSelected)},a.$watch(function(){var b,c=0;if(void 0===a.list||null===a.list)return c;for(b=0;b<a.list.length;b++)a.list[b].$selected&&c++;return c},function(){c()}),b=function(b){void 0!==a.gridOptions&&(b===!0?a.gridOptions.api.selectAll():a.gridOptions.api.deselectAll())},a.onClickSelectAll=function(){var c;if(a.isSelected=void 0===a.isSelected?!0:!a.isSelected,angular.isFunction(a.ngClick(a)))a.ngClick(a)(a.isSelected);else if(a.list){for(c=0;c<a.list.length;c++)a.list[c].$selected=a.isSelected;$(".input-check input[type=checkbox]").prop("checked",a.isSelected),b(a.isSelected)}}}}var b={template:'<div class="quick-select clickable pull-left" ng-click="onClickSelectAll()"><span class="input-check"><input id="selectAll" type="checkbox" ng-click="onClickSelectAll()"><label for="selectAll"></label></span><span class="hidden-xs">{{ title }}</span></div>',restrict:"E",scope:{title:"@",list:"=",ngClick:"&",gridOptions:"="},compile:a};return b}angular.module("totvsPageQuickSelect").directive("totvsPageQuickSelect",a),a.$inject=[]}(),function(){function a(){function a(a){var b,c;b=a.children("tag").clone()||[],a.html('<div class="row"><div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 hidden-xs"><div class="page-tags"></div></div></div>'),c=a.find(".page-tags"),angular.forEach(b,function(a){a=angular.element(a);var b=angular.element('<div class="tag legend"></div>');a.attr("class")&&b.addClass(a.attr("class")),b.html(a.text()),angular.forEach($(a).get(0).attributes,function(a){"class"!==a.name&&b.attr(a.name,a.value)}),c.append(b)})}var b={restrict:"E",compile:a};return b}angular.module("totvsPageTags").directive("totvsPageTags",a),a.$inject=[]}(),function(){function a(a,d,e){function f(a,b,f,g){function h(){g.$viewValue||(g.$viewValue={}),a.config={type:g.$viewValue.type||"TODAY",date:g.$viewValue.date||void 0,time:g.$viewValue.time||null,repeat:g.$viewValue.repeat||!1,repeatType:g.$viewValue.repeatType||"D",repeatTime:g.$viewValue.repeatTime||null,repeatCycle:g.$viewValue.repeatCycle||1,repeatWeekDays:g.$viewValue.repeatWeekDays||{},repeatMonthDay:g.$viewValue.repeatMonthDay||{day:1,last:"false"},repeatFinish:g.$viewValue.repeatForever||"FOREVER",repeatFinishDate:g.$viewValue.repeatFinishDate||void 0}}function i(b){g.$setViewValue({type:b.type,date:b.date,time:b.time,repeat:b.repeat,repeatType:b.repeatType,repeatTime:b.repeatTime,repeatCycle:b.repeatCycle,repeatWeekDays:b.repeatWeekDays,repeatMonthDay:b.repeatMonthDay,repeatFinish:b.repeatFinish,repeatFinishDate:b.repeatFinishDate}),m(a.config)}function j(){"TODAY"===a.config.type&&(a.config.date=void 0,a.config.time=void 0)}function k(){a.config.repeat===!0?a.changeConfig(!0):(a.config.repeatType="D",a.config.repeatTime=void 0,a.config.repeatCycle=1,a.config.repeatWeekDays={},a.config.repeatMonthDay={day:1,last:"false"},a.config.repeatFinish="FOREVER",a.config.repeatFinishDate=void 0)}function l(b){var e,f;e=d.open({template:c,controller:"TotvsScheduleController as scheduleController",size:"md",resolve:{config:function(){return f=angular.copy(a.config)}}}),e.result.then(function(){a.config=angular.copy(f)},function(){b&&(a.config.repeat=!1)})}function m(b){function c(){switch(b.repeatType){case"D":return e("i18n")(1===b.repeatCycle?"l-repeat-every-days":"l-repeat-every-x-days",b.repeatCycle);case"W":return e("i18n")(1===b.repeatCycle?"l-repeat-every-weeks":"l-repeat-every-x-weeks",b.repeatCycle);case"M":return e("i18n")(1===b.repeatCycle?"l-repeat-every-months":"l-repeat-every-x-months",b.repeatCycle);default:return""}}function d(){return b.repeatTime?" "+e("i18n")("l-prep-at")+" "+b.repeatTime+". ":". "}function f(){var a,c="";return"W"===b.repeatType?b.repeatWeekDays?(b.repeatWeekDays.sunday&&(c=e("i18n")("l-prep-on-m")+" "+e("i18n")("l-day-sundays")),b.repeatWeekDays.monday&&(c+=(c?", ":e("i18n")("l-prep-on-f")+" ")+e("i18n")("l-day-mondays")),b.repeatWeekDays.tuesday&&(c+=(c?", ":e("i18n")("l-prep-on-f")+" ")+e("i18n")("l-day-tuesdays")),b.repeatWeekDays.wednesday&&(c+=(c?", ":e("i18n")("l-prep-on-f")+" ")+e("i18n")("l-day-wednesdays")),b.repeatWeekDays.thursday&&(c+=(c?", ":e("i18n")("l-prep-on-f")+" ")+e("i18n")("l-day-thursdays")),b.repeatWeekDays.friday&&(c+=(c?", ":e("i18n")("l-prep-on-f")+" ")+e("i18n")("l-day-fridays")),b.repeatWeekDays.saturday&&(c+=(c?", ":e("i18n")("l-prep-on-m")+" ")+e("i18n")("l-day-saturdays")),a=c.lastIndexOf(","),c.slice(0,a)+c.slice(a).replace(","," e")+". "):"":"M"===b.repeatType?"true"===b.repeatMonthDay.last?e("i18n")("l-last-day-each-month"):e("i18n")("l-on-day-of-each-month-x",b.repeatMonthDay.day):""}function g(){return"FOREVER"===b.repeatFinish?e("i18n")("l-forever")+". ":e("i18n")("l-finish-in",e("date")(b.repeatFinishDate,"dd/MM/yyyy"))+". "}return b.repeat?void(a.description=c()+d()+f()+" "+g()):void(a.description=void 0)}g.$render=h,a.$watch("config",i,!0),a.changeType=j,a.changeRepeat=k,a.changeConfig=l}var g={template:b,restrict:"E",require:"ng-model",replace:!0,scope:{hideRepeat:"@"},link:f};return g}var b='<div class="schedule-panel form-inline row"><field type="radio" class="col-md-3" ng-model="config.type" ng-change="changeType()"><label>{{"l-date-execution" | i18n}}</label><totvs-options><totvs-option value="TODAY">{{\'l-execution-today\' | i18n}}</totvs-option></totvs-options></field><field type="radio" class="col-md-3" ng-model="config.type" ng-change="changeType()"><label>&nbsp;</label><totvs-options><totvs-option value="DATE">{{\'l-schedule-execution\' | i18n}}</totvs-option></totvs-options></field><field type="date" class="col-md-3" ng-disabled="config.type !== \'DATE\'" canclean ng-model="config.date" label="{{\'l-schedule-to\' | i18n}}"></field><field type="time" class="col-md-3" ng-disabled="config.type !== \'DATE\'" ng-model="config.time" label="{{\'l-time\' | i18n}}" canclean></field><field type="checkbox" class="col-md-12" ng-model="config.repeat" ng-change="changeRepeat()" ng-if="hideRepeat !== \'true\'"><label>{{\'l-repeat-occurrence\' | i18n}}</label></field><div class="col-md-12" ng-if="config.repeat && description"><label style="margin-top:2px;font-weight:200;font-size:12px;color:gray;">{{\'l-configuration\' | i18n}}</label><div style="font-weight:bold">{{description}}</div></div><div class="col-md-12" ng-if="config.repeat" style="padding-top:5px"><a class="clickable" ng-click="changeConfig(false);">{{\'btn-edit\' | i18n}}</a></div></div>',c='<totvs-modal-header>{{"l-repeat-occurrence" | i18n}}</totvs-modal-header><totvs-modal-body><div class="row"><field type="radio" class="col-md-12" ng-model="scheduleController.config.repeatType" label="{{\'l-repeat-pattern\' | i18n}}" ng-change="scheduleController.changeRepeatCycle(scheduleController.config.repeatType, true)"><totvs-options><totvs-option value="D">{{"l-repeat-daily" | i18n}}</totvs-option><totvs-option value="W">{{"l-repeat-weekly" | i18n}}</totvs-option><totvs-option value="M">{{"l-repeat-monthly" | i18n}}</totvs-option></totvs-options></field><field type="combo" class="col-md-6" ng-model="scheduleController.config.repeatCycle" label="{{ \'l-repeat-every\' | i18n }}" ng-options="item.index as item.description for item in scheduleController.repeatCycleItems"></field><field type="time" class="col-md-6" ng-model="scheduleController.config.repeatTime" label="{{ \'l-time\' | i18n}}"></field><div class="field-container col-md-12" ng-if="scheduleController.config.repeatType === \'W\'"><div class="row seven-cols"><field type="checkbox" class="col-md-1" label="{{\'l-day-sunday\' | i18n}}" ng-model="scheduleController.config.repeatWeekDays.sunday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-monday-single\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.monday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-tuesday-single\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.tuesday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-wednesday-single\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.wednesday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-thursday-single\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.thursday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-friday-single\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.friday"></field><field type="checkbox" class="col-md-1" label="{{\'l-day-saturday\' | i18n}}"ng-model="scheduleController.config.repeatWeekDays.saturday"></field></div></div><div ng-if="scheduleController.config.repeatType === \'M\'"><field type="radio" class="col-md-3" label="{{\'l-always-on\' | i18n}}" ng-model="scheduleController.config.repeatMonthDay.last"><totvs-options><totvs-option value=false>{{\'l-day-of-the-month\' | i18n}}</totvs-option></totvs-options></field><field type="combo" class="col-md-3" ng-model="scheduleController.config.repeatMonthDay.day" ng-disabled="scheduleController.config.repeatMonthDay.last === \'true\'"  ng-options="item for item in [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]"><label>&nbsp;</label></field><field type="radio" class="col-md-6" ng-model="scheduleController.config.repeatMonthDay.last"><label>&nbsp;</label><totvs-options><totvs-option value=true>{{\'l-last-day-of-the-month\' | i18n}}</totvs-option></totvs-options></field></div><field type="radio" class="col-md-3" label="{{\'l-execute\' | i18n}}" ng-model="scheduleController.config.repeatFinish"><totvs-options><totvs-option value="FOREVER">{{"l-forever" | i18n}}</totvs-option></totvs-options></field><field type="radio" class="col-md-3" ng-model="scheduleController.config.repeatFinish"><label>&nbsp;</label><totvs-options><totvs-option value="DATE">{{"l-until-to-date" | i18n}}</totvs-option></totvs-options></field><field type="date" class="col-md-6" ng-model="scheduleController.config.repeatFinishDate" ng-disabled="scheduleController.config.repeatFinish !== \'DATE\'" canclean><label>&nbsp;</label></field></div></totvs-modal-body><totvs-modal-footer><button type="button" class="btn btn-default" data-ng-click="scheduleController.close();">{{ "btn-cancel" | i18n }}</button><button type="button" class="btn btn-primary" data-ng-click="scheduleController.save();">{{ "l-save-schedule" | i18n }}</button></totvs-modal-footer>';angular.module("totvsSchedule").directive("totvsSchedule",a),a.$inject=["$rootScope","$modal","$filter"]}(),function(){function a(a,b,c,d,e){function f(f,g,h,i){function j(){var a="#"+z.$fieldId;F=$(a).data("kendoComboBox")}function k(){var a,b,c={};if(h.$attr.selectMatch){w||(w=JSON.parse(h.selectMatch));for(a in w)w.hasOwnProperty(a)&&(b=w[a].field,c[b]="")}else c[f.selectId]="",c[f.selectDescription]="";return c}function l(a){var b,c={},d="",e=k();for(d in a)if(a.hasOwnProperty(d))for(b in e)if(e.hasOwnProperty(b)&&b===d){c[b]=a[d];break}return c}function m(a){var b={},c="",d="";if(h.$attr.selectMatch){w||(w=JSON.parse(h.selectMatch));for(b in w)w.hasOwnProperty(b)&&(d=w[b].field,c+=a[d],w[b].separator&&(c+=w[b].separator));return c}return a[f.selectId]+" - "+a[f.selectDescription]}function n(a){var b,c;c=angular.isArray(a)?a:[a],c&&(b=new kendo.data.DataSource({data:c,schema:{parse:function(a){return $.each(a,function(a,b){b.DisplayText=m(b)}),a}}}),F.setDataSource(b))}function o(a){var b;b=angular.isObject(a)?a[f.selectId]:a,void 0!==b&&""!==b&&F.select(function(a){return a[f.selectId]===b}),F.trigger("change")}function p(a){var b;a&&angular.isObject(a)&&(a=a[f.selectId]),b=u.getObjectFromValue(a,f.initfn(f)),b?b.then?b.then(function(a){if(a&&a.hasOwnProperty(f.selectId)){var b=l(a);n(b),o(a[f.selectId])}else v.hasOwnProperty(f.selectId)?(n(v),o(v)):F.value("")}):n(b):F.value("")}function q(a){var b,c,d;c={property:f.selectDescription||f.selectId},d=angular.isObject(a)?a[f.selectId]:a,b=u.applyFilter({init:f.initfn(f),disclaimers:[{property:c.property,value:d}],selectedFilter:c,selectedFilterValue:d,more:!1,isAdvanced:!1,isSelectValue:!0}),b&&(b.then?b.then(function(a){n(a),t||F.open(),t=!1}):n(void 0))}function r(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&(angular.isFunction(a[b])||(c[b]=a[b]));return c}function s(a){var b,c={};a&&(b=a.dataItem(a.select()),c=r(b)),c[f.selectId]?(v=c,h.$attr.returnObject?i.$setViewValue(c):i.$setViewValue(c[f.selectId]),D=c[f.selectId]):(i.$setViewValue(void 0),D=void 0),i.$render()}f.initfn=d(h.selectInit),f.selectId=h.selectId,f.selectService=h.selectService,f.selectDescription=h.selectDescription,f.filter=h.filter||"contains",f.placeholder=h.placeholder||"",f.minLength=h.minLength||"1",f.delay=h.delay||500;var t,u,v,w,x,y,z,A,B,C,D,E,F,G="";y=angular.element('<select kendo-combo-box k-options="selectOptions" style="width: 100%"></select>'),x=g.find(".input-group"),x.append(y),z=f.$new(),A=g.find("select"),e.pattern(f,h,g,z,i,A),e.zoom(h,g),e.ngHide(f,h,g),e.ngShow(f,h,g),e.ngDisabled(f,h,g),B=function(){var a;a="undefined"===h.canclean?void 0:"null"===h.canclean||""===h.canclean?null:h.canclean,i.$setViewValue(a),i.$render(),F.value("")},e.canclean(h,g,z,A,B),E=g.find(".field-container"),c(E)(z),f.selectService&&(u=a.get(f.selectService)),i.$formatters.unshift(function(a){a||s(a),G&&b.cancel(G),G=b(function(){p(a)},f.delay)}),f.selectOptions={dataValueField:"['"+f.selectId+"']",dataTextField:"DisplayText",filter:f.filter,placeholder:f.placeholder,minLength:f.minLength,delay:f.delay,filtering:function(a){q(a.filter.value)},change:function(){s(this)}},setTimeout(function(){var a,b;a=g.find(".k-dropdown-wrap"),b=g.find(".input-group-btn").children(),j(),b.length>0&&(a.css("border-bottom-right-radius","0px"),a.css("border-top-right-radius","0px")),g.find("input.k-input").on("keydown",function(a){9===a.keyCode&&void 0!==F.text()&&""!==F.text()&&"-1"===F.select().toString()&&p(F.text())}),h.$attr.focus&&F.input.focus(),g.find("input.k-input").focusin(function(){C=F.value(),C!==D&&"-1"===F.select().toString()&&(q(""),D=C),F.open()}),i.$modelValue||(t=!0,q(i.$modelValue))},200),f.updateSelectModelZoom=function(a){var b=a[f.selectId];n(a),F.select(function(a){return a[f.selectId]===b}),F.trigger("change")}}var g={restrict:"A",require:"ngModel",scope:!0,link:f};return g}angular.module("totvsSelect").directive("totvsSelect",a),a.$inject=["$injector","$timeout","$compile","$parse","totvsFieldService"]}(),function(){function a(a){function b(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0,c.parent().children("li.dropdown").removeClass("active"))},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}var c={template:'<li ng-class="{active: active, disabled: disabled}"><a href ng-click="select()" totvs-tab-heading-transclude>{{heading}}</a></li>',restrict:"EA",require:"^totvsTabset",replace:!0,transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:b};return c}angular.module("totvsTab").directive("totvsTab",a),a.$inject=["$parse"]}(),function(){function a(){function a(a,b,c){function d(a){return a.tagName&&(a.hasAttribute("totvs-tab-heading")||a.hasAttribute("data-totvs-tab-heading")||"totvs-tab-heading"===a.tagName.toLowerCase()||"data-totvs-tab-heading"===a.tagName.toLowerCase())}var e=a.$eval(c.totvsTabContentTransclude);e.$transcludeFn&&e.$transcludeFn(e.$parent,function(a){var c,f;for(c=0;c<a.length;c++)f=a[c],d(f)?e.headingElement=f:b.append(f)})}var b={restrict:"A",require:"^totvsTabset",link:a};return b}angular.module("totvsTabContentTransclude").directive("totvsTabContentTransclude",a),a.$inject=[]}(),function(){function a(a){function b(){return function(b,c,d,e){b.disabled=!1,d.disabled&&b.$parent.$watch(a(d.disabled),function(a){b.disabled=!!a}),e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)})}}var c={template:'<li ng-class="{active: active, active: subActive, disabled: disabled}" class="dropdown"><a data-toggle="dropdown" class="dropdown-toggle"><span>{{heading}}&nbsp;</span><span class="glyphicon glyphicon-option-vertical"></span></a><ul class="dropdown-menu dropdown-menu-right" ng-transclude></ul></li>',restrict:"EA",require:"^totvsTabset",replace:!0,transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:b};return c}angular.module("totvsTabDropdown").directive("totvsTabDropdown",a),a.$inject=["$parse"]}(),function(){function a(a){function b(b,c,d){return function(b,c,e,f){b.$watch("active",function(a){a&&f.select(b)}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0,c.parents(".nav").children("li.dropdown").removeClass("active"),c.parents("li.dropdown:eq(0)").addClass("active"))},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}var c={template:'<li ng-class="{active: active, disabled: disabled}"><a href ng-click="select()">{{heading}}</a></li>',restrict:"EA",require:"^totvsTabset",replace:!0,transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:b};return c}angular.module("totvsTabDropdownItem").directive("totvsTabDropdownItem",a),a.$inject=["$parse"]}(),function(){function a(){function a(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}var b={restrict:"A",require:"^totvsTab",link:a};return b}angular.module("totvsTabHeadingTransclude").directive("totvsTabHeadingTransclude",a),a.$inject=[]}(),function(){function a(a,b){function c(c){var d,e;return d=c.children("column"),e=$('<div class="table-content"><div class="table-responsive"><table class="table table-condensed"><colgroup><col span="2" style="position: absolute"></colgroup><thead><tr></tr></thead><tbody><tr class="clickable"></tr></tbody></table></div></div>'),c.html(e),function(c,e,f){var g,h,i,j,k,l;g=e.find("thead > tr"),h=e.find("tbody > tr"),i=c.itemsAs||"item",j=c.itemsFilter?" | "+c.itemsFilter:"",c.objects=[],c.$watch("items()",function(a){c.objects=a}),h.attr("ng-repeat",i+" in objects track by $index"+j),h.attr("ng-class",'{"selected":'+i+".$selected}"),f.typeSelect=(f.typeSelect||"multi").toLowerCase(),"off"!==f.typeSelect&&(c.isAllSelected=!1,k='<th style="width: 0px"><input type="checkbox" style="margin-left: 3px;" ng-model="isAllSelected"ng-click="selectedAll()"></th>',l='<td scope="row" class="select"><input type="checkbox" ng-model="'+i+'.$selected"></td>',"single"!==f.typeSelect&&(g.append(k),h.append(l))),angular.forEach(d,function(d){d=angular.element(d),g.append("<th>"+b(d.attr("title"))(c)+"</th>");var e=$("<td></td>");angular.isFunction(c.dblclick)&&e.attr("ng-dblclick","onDoubleClick("+i+")"),e.attr("ng-click","onClick("+i+")"),d.text().trim().length>0?e.html(d.text()):"&nbsp;"===d.html().trim()?e.html(d.html()):e.html(a(d.html())(c.$parent)),angular.forEach($(d).get(0).attributes,function(a){"title"!==a.name&&e.attr(a.name,a.value)}),h.append(e)}),a(g)(c),a(h)(c),c.onClick=function(a){a.hasOwnProperty("$selected")?a.$selected=!a.$selected:a.$selected=!0},c.onDoubleClick=function(a){var b={};b[i]=a,c.dblclick(b)},c.selectedAll=function(){angular.forEach(c.objects,function(a){a.$selected=c.isAllSelected})}}}var d={restrict:"E",scope:{items:"&",itemsAs:"@",itemsFilter:"@",dblclick:"&"},compile:c};return d}angular.module("totvsTable").directive("totvsTable",a),a.$inject=["$compile","$interpolate"]}(),function(){function a(){function a(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}var b={template:'<div class="tabset col-xs-12"><ul class="nav nav-{{type || \'tabs\'}}"ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}"ng-transclude></ul><div class="tab-content"><div class="tab-pane" ng-class="{active: tab.active}" ng-repeat="tab in tabs" totvs-tab-content-transclude="tab.tab || tab"></div></div></div>',restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TotvsTabsetController",link:a};return b}angular.module("totvsTabset").directive("totvsTabset",a),a.$inject=[]}(),function(){function a(a,b,c,d,e){function f(f,g,h,i){function j(){function a(){o=l().options.files,i.$setViewValue(o)}function b(a,b){var c,d=a.uid;for(c in b)b.hasOwnProperty(c)&&b[c].uid===d&&b.splice(c,1)}function e(a){var b,c=i.$modelValue.length;for(b=0;c>b;b+=1)if(i.$modelValue[b].uid===a){delete i.$modelValue[b].isntUploaded;break}}function j(a){angular.forEach(a.files,function(c,d){f.tMultiple||o.length&&b(o[0],o),a.files[d].isntUploaded=!0,o.push(a.files[d])}),i.$setViewValue(o),h.tOnSelect&&f.tOnSelect()(a)}function m(a){"upload"===a.operation&&e(a.files[0].uid),h.tOnSuccess&&f.tOnSuccess()(a)}function n(a){b(a.files[0],o),i.$setViewValue(o),h.tOnCancel&&f.tOnCancel()(a)}function p(a){b(a.files[0],o),i.$setViewValue(o),h.tOnRemove&&f.tOnRemove()(a)}function q(a){f.tMultiple?"remove"===a.operation&&o.push(a.files[0]):0===o.length&&"remove"===a.operation&&o.push(a.files[0]),i.$setViewValue(o),h.tOnError&&f.tOnError()(a)}if(k(f,g,h,i),c(function(){a(),h.$attr.tShowDragDrop&&g.find("div.k-dropzone em").css("visibility","visible")},250),i.$modelValue&&i.$modelValue.length&&(o=i.$modelValue.filter(function(a){return!a.isntUploaded})),h.$attr.tManualUpload){var r=document.createElement("style");r.innerHTML=".k-upload-selected {display: none;}",document.body.appendChild(r)}window.formatSize=function(a){var b=0;return a&&(b=Math.ceil(a/1024)),b},f.uploadOptions={multiple:f.tMultiple,showFileList:f.tShowFileList,localization:{select:f.tSelect||d.i18n("l-select-file"),dropFilesHere:f.tDropFilesHere||d.i18n("l-drop-files"),cancel:f.tCancel||d.i18n("btn-cancel"),headerStatusUploaded:f.tStatusUploaded||d.i18n("l-status-uploaded"),retry:f.tRetry||d.i18n("l-retry"),headerStatusUploading:f.tStatusUploading||d.i18n("l-status-uploading"),uploadSelectedFiles:f.tUploadSelectedFiles||d.i18n("l-upload-selected-files"),statusFailed:f.tStatusFailed||d.i18n("l-status-failed"),remove:f.tRemove||d.i18n("l-remove")},files:o,enabled:f.tEnabled,async:{saveUrl:f.tSaveUrl,saveField:f.tSaveField,removeUrl:f.tRemoveUrl,removeField:f.tRemoveField,removeVerb:f.tRemoveVerb,withCredentials:f.tWithCredentials,autoUpload:f.tAutoUpload||!1},select:j,upload:f.tOnUpload(),remove:p,progress:f.tOnProgress(),success:m,error:q,complete:f.tOnComplete(),cancel:n,template:'<div class="template-upload" style="width: auto"><div class="row"><span class="k-progress"></span><div class="col-lg-6 col-md-6 col-sm-6 col-xs-9" style="overflow: hidden; white-space: nowrap; text-overflow:ellipsis;" title="#=name#">#=name#</div><div class="col-lg-2 col-md-2 col-sm-2 col-xs-6">#= formatSize(size)# KB</div><div class="col-lg-1 col-md-1 col-sm-1 col-xs-1" style="float: right;"> <button type="button" class="k-upload-action"></button></div></div></div>'}}function k(b,c,d,f){var g,h,i,j;j=angular.element('<input name="file" type="file" kendo-upload k-options="uploadOptions" />'),h=c.find(".input-group"),h.append(j),g=b.$new(),e.pattern(b,d,c,g,f,j),e.ngHide(b,d,c),e.ngShow(b,d,c),i=c.find(".field-container"),a(i)(g)}function l(){return n?n:n=g.find("div [kendo-upload]").getKendoUpload()}var m,n,o=[];f.tPromise?(m=f.tPromise(),m&&m.$promise&&(m=m.$promise),b.when(m).then(function(){j()},function(){j()})):j()}var g={require:"ngModel",restrict:"A",scope:{tPromise:"=",tMultiple:"=",tShowFileList:"@",tSelect:"@",tDropFilesHere:"@",tStatusUploaded:"@",tRetry:"@",tStatusUploading:"@",tUploadSelectedFiles:"@",tRemove:"@",tCancel:"@",tSaveUrl:"=",tSaveField:"=",tRemoveUrl:"=",tRemoveField:"@",tRemoveVerb:"@",tEnabled:"=",tAutoUpload:"=",tWithCredentials:"@",tOnSelect:"&",tOnUpload:"&",tOnRemove:"&",tOnProgress:"&",tOnSuccess:"&",tOnError:"&",tOnComplete:"&",tOnCancel:"&"},link:f};return g}angular.module("totvsUpload").directive("totvsUpload",a),a.$inject=["$compile","$q","$timeout","$rootScope","totvs.field.Service"]}(),function(){function a(){var a={template:'<div class="widget-panel panel panel-default" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsWidget").directive("totvsWidget",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="panel-body" ng-transclude></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsWidgetBody").directive("totvsWidgetBody",a),a.$inject=[]}(),function(){function a(){var a={template:'<div class="panel-footer"><div class="row" style="height: 34px;"><div class="col-xs-12" ng-transclude></div></div></div>',restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsWidgetFooter").directive("totvsWidgetFooter",a),a.$inject=[]}(),function(){function a(){function a(a){function b(a,b){var c=b.attr("link"),d=b.attr("ng-click");a.append(b.text()),c?a.attr("href",c):d&&(a.addClass("clickable"),a.attr("ng-click",d))}var c,d,e,f,g=a.children("action").clone()||[],h="";if(a.html('<span class="actions"></span>'),g.length>1)for(h=angular.element('<span class="pull-right dropup"><span class="widget-details clickable dropdown-toggle" id="widget-detail-dropdown" data-toggle="dropdown" aria-expanded="true"><button class="btn btn-link" role="link">{{"l-detail"|i18n}}&nbsp;<span class="caret"></span></button></span><ul class="dropdown-menu" role="menu" aria-labelledby="widget-detail-dropdown"></ul><span>'),c=h.find("ul"),f=0;f<g.length;f++)d=angular.element(g[f]),e=angular.element('<li role="presentation"><a role="menuitem" tabindex="-1"></a></li>'),b(e.children("a"),d),c.append(e);1===g.length&&(h=angular.element('<span class="pull-right"><a class="btn btn-link" role="menuitem" tabindex="-1"></a><span>'),d=angular.element(g[0]),b(h.children("a"),d)),a.find(".actions").append(h)}var b={restrict:"E",compile:a};return b}angular.module("totvsWidgetFooterActions").directive("totvsWidgetFooterActions",a),a.$inject=[]}(),function(){function a(){var a={template:'<span class="panel-title"><span ng-transclude></span></span>',
restrict:"E",transclude:!0,replace:!0};return a}angular.module("totvsWidgetFooterBody").directive("totvsWidgetFooterBody",a),a.$inject=[]}(),function(){function a(a){function b(){return function(b,c,d){b.hasSettings=d.$attr.hasOwnProperty("settings"),b.callHelp=function(){a.open(b.help)},b.callSettings=function(){b.settings()}}}var c={template:'<div class="panel-heading"><div class="row"><div class="col-xs-12"><h3 class="panel-title" style="display:inline">{{title}}</h3>&nbsp;<span ng-transclude></span><span class="pull-right"><span ng-if="hasSettings && !help" class="clickable glyphicon glyphicon-cog" aria-hidden="true" ng-click="callSettings()"></span><span ng-if="!hasSettings && help" class="clickable glyphicon glyphicon-question-sign" aria-hidden="true" ng-click="callHelp()"></span><div ng-if="hasSettings && help" class="clickable dropdown-toggle" data-toggle="dropdown" aria-hidden="true"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span><span class="caret" aria-hidden="true"></span></div><ul class="dropdown-menu" role="menu" aria-labelledby="widget-actions-dropdown"><li role="presentation"><a role="menuitem" tabindex="-1" ng-click="callSettings()">{{ "l-settings" | i18n }}</a></li><li role="presentation"><a role="menuitem" tabindex="-1" ng-click="callHelp()">{{ "l-help" | i18n }}</a></li></ul></span></div></div></div>',restrict:"E",transclude:!0,replace:!0,scope:{title:"@",settings:"&",help:"@"},compile:b};return c}angular.module("totvsWidgetHeader").directive("totvsWidgetHeader",a),a.$inject=["$window"]}(),function(){function a(a,b,c,d,e,f,g){function h(e,h,i,j){e.zoomRefreshDelay=e.zoomRefreshDelay||500;var k,l,m,n,o,p;e.getObjectFromValue=function(a){return m&&f.cancel(m),m=f(function(){var b,f,g;return b=e.selectedItemObj,i.zoomId&&b&&(b=b[i.zoomId]),a===b?e.selectedItemObj:(f=i.zoomController,g=i.zoomService,g?g=c.get(g):f?(angular.module("zoom").constant("zoomoptions","zoomoptions"),angular.module("zoom").constant("zoomcallback",void 0),angular.module("zoom").constant("zoominit",void 0),g=d(f,{$modalInstance:"$modalInstance",$injector:c,$scope:e})):g=void 0,g&&g.getObjectFromValue?g.getObjectFromValue(a,e.zoomInitFn()):a)},e.zoomRefreshDelay)},e.selectedItemFn=function(a){var b,c;b=angular.equals(e.selectedItemObj,a),c=e.selectedItemObj,e.selectedItemObj=a,e.showDescription(),e.zoomSelected&&!b&&i.disabled!==!0&&e.zoomSelected({selected:a,oldvalue:c}),e.zoomSelectedInternal&&!b&&i.disabled!==!0&&e.zoomSelectedInternal({selected:a,oldvalue:c})},e.showDescription=function(){var a,b,c,d,g,h;if(b=e.zoomValidValues(),c=!1,b)for(a=0;a<b.length;a++)e.selectedItemObj===b[a]&&(c=!0),""===b[a]&&void 0===e.selectedItemObj&&(c=!0);if(c&&f(function(){j.$setValidity("zoom",!0)}),e.selectedItemObj&&!c&&i.zoomId){if(d=e.selectedItemObj[i.zoomId],g=e.zoomValidSearchValues(),h=!1,g)for(a=0;a<g.length;a++)d===g[a]&&(h=!0);d||h?(i.zoomDescription&&(d=d+" - "+e.selectedItemObj[i.zoomDescription]),e.setModelValue(d)):j.$setValidity("zoom",!1)}},e.zoomInitFn=function(){return e.zoomInit?e.zoomInit():void 0},e.openZoom=function(){var a={templateUrl:i.zoomTemplate||g.appRootContext+"html/templates/zoom.html",controller:(i.zoomController||"zoomController")+" as controller",size:"lg",scope:e,backdrop:"static",resolve:{zoomoptions:function(){return i.zoomService},zoomcallback:function(){return e.selectedItemFn},zoominit:function(){return e.zoomInitFn},zoomid:function(){return i.zoomId},zoommultiple:function(){return i.hasOwnProperty("zoomMultiple")},zoomalertmessage:function(){return i.zoomAlertMessage},previousselect:function(){return j.$viewValue}}};e.zoominstance=b.open(a),e.zoominstance.rendered.then(function(){var a=.65;$("div.modal-body-zoom div.accordion").length<=0&&(a=.55),$("div.modal-body-zoom div.row.zoom-result").css("height",window.innerHeight*a),f(function(){$("div.modal-body-zoom div.accordion").length<=0&&$("div.modal-body-zoom.page-content").css("display","inline-table")},1e3)}),e.zoominstance.result.then(function(a){angular.isArray(a)&&(e.selectedItemObj=a),e.setModelValue(a)})},e.setModelValue=function(a){j.$setValidity("zoom",!0),j.$setViewValue(a),j.$render()},e.successCallback=function(a,b){k=b,j.$setValidity("zoom",null!==a),null!==a&&e.selectedItemFn(a)},e.successCallbackData=function(a,b){k=b,j.$setValidity("zoom",!a.hasOwnProperty("data")),a.hasOwnProperty("data")||e.selectedItemFn(a)},e.errorCallback=function(a){k=a,j.$setValidity("zoom",!1)},e.loadFromValue=function(a){var b,c,d,f,g,h;if(d=e.zoomValidValues(),f=!1,d)for(b=0;b<d.length;b++)a===d[b]&&(f=!0),""===d[b]&&void 0===a&&(f=!0);if(g=e.zoomValidSearchValues(),h=!1,g)for(b=0;b<g.length;b++)a===g[b]&&(h=!0);i.required||h||void 0!==a&&null!==a&&"undefined"!==a&&""!==a&&0!==a?(c=e.getObjectFromValue(a),c?c&&c.$then?c.$then(function(b){e.successCallback(b,a)},function(){e.errorCallback(a)}):c&&c.then?c.then(function(b){e.successCallback(b,a)},function(){e.errorCallback(a)}):c&&c.$promise?c.$promise.then(function(b){e.successCallbackData(b,a)},function(){e.errorCallback(a)}):null===c||void 0===c?e.errorCallback():(k=a,j.$setValidity("zoom",!0),e.selectedItemFn(c)):e.errorCallback(void 0)):k&&!f?e.errorCallback(a):e.selectedItemFn(a)},"BUTTON"===h.prop("tagName")?h.click(function(a){a.preventDefault(),a.stopPropagation(),e.openZoom()}):(n=h.parents(".input-group"),o=n.find(".input-group-btn"),0===o.length&&(o=angular.element('<span class="input-group-btn"></span>'),n.append(o),n.addClass("no-block")),p=angular.element('<button class="btn btn-default" role="button"type="button" data-ng-click="openZoom()"><span class="glyphicon glyphicon-search"></span></button>'),a(p)(e),o.append(p)),j.$formatters.push(function(a){return i.zoomId&&e.loadFromValue(a),a}),j.$parsers.push(function(a){return i.zoomId&&("string"==typeof a&&(a=a.split(" - ")[0]),l&&f.cancel(l),l=f(function(){e.loadFromValue(a)},e.zoomRefreshDelay)),a}),e.$on("$destroy",function(){l&&(f.cancel(l),l=void 0),m&&(f.cancel(m),m=void 0)})}var i={restrict:"AE",require:"ngModel",scope:{zoomSelected:"&",zoomSelectedInternal:"&",zoomInit:"&",zoomValidValues:"&",zoomValidSearchValues:"&",zoomRefreshDelay:"@"},link:h};return i}angular.module("zoom").directive("zoom",a),a.$inject=["$compile","$modal","$injector","$controller","$q","$timeout","$rootScope"]}();